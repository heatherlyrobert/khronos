#!/usr/local/bin/koios
#

#23456789012  123  123456789-123456789-123456789-12345  123456789-123456789-  123456789-123456789-123456789-123456789-123456789-123456789-123456789-  123456789-  123456789-123456789-123456789-123456789-123456789-123456789-123456789-  -  123456789-123456789- 
#==(verb)===  ver  ===========(description)===========  =====(function)=====  ========================(arguments)===================================  ==(test)==  ==========================(results)===================================  t  ========(var)======= 
PREP          v20  include the prototype headers                               
   incl       v20  include crond header                 khronos.h            

## maintenance macros
##    reformat SCRP lines         0wi     lli v20 llfhhhhhhhdw$i                                            $A ----------  ----------------------------------------------------------------------  -  -------------------- 0
##    reformat COND lines         0i   fi   v20 $hhhhhhdw$A ----------------------------------------------------------------------  ----------  ----------------------------------------------------------------------  -  -------------------- 0j
##    reformat exec lines         0i   fi   v20 llfhhdwllfhhhhhdwllfi               llfi llfi               $A -                       0j
##    reformat code lines         0i   fi   v20 llfhhdw$A                                                                                                                                                                                                                                   -                       246|dw0j

# use the date command to create cronpulse files for any timestamp
# $ date -d "2009-01-12 13:01:30" "+%y.%m.%d.%H.%M.%S   %s" > cronpulse.intrarun_last_check
#23456789012  123  123456789-123456789-123456789-12345  123456789-123456789-  123456789-123456789-123456789-123456789-123456789-123456789-123456789-  123456789-  123456789-123456789-123456789-123456789-123456789-123456789-123456789-  -  123456789-123456789- 
#==(verb)===  ver  ===========(description)===========  =====(function)=====  ========================(arguments)===================================  ==(test)==  ==========================(results)===================================  t  ========(var)======= 
SCRP          v20  verify cronpulse operations                                  BASE_timestamp, BASE_lastpulse                                          ----------  ----------------------------------------------------------------------  -  -------------------- 

   COND       v20  initialize program                                           ----------------------------------------------------------------------  ----------  ----------------------------------------------------------------------  -  -------------------- 
     exec     v20  initialize the logger (quiet mode)   PROG_testquiet                                                                                i_equal     0                                                                       -                       
     code     v20  holder for broken-down time          struct tm *curr_time = NULL;                                                                                                                                                            -                       
     code     v20  holder for current time              long       xbase     = 0;                                                                                                                                                               -                       
     code     v20  create a custom time string          char       c_time[60];                                                                                                                                                                  -                       
     code     v20  create a file object                 FILE      *fPULSER   = NULL;                                                                                                                                                            -                       

   GROUP      v20  first, check basic timestamping (BASE_timestamp)             ----------------------------------------------------------------------  ----------  ----------------------------------------------------------------------  -  -------------------- 

   COND       v20  check timestamping at current time                           ----------------------------------------------------------------------  ----------  ----------------------------------------------------------------------  -  -------------------- 
     code     v20  get the current time                 xbase     = time(NULL);                                                                                                                                                                 -                       
     code     v20  make a broken down time              curr_time = localtime(&xbase);                                                                                                                                                          -                       
     code     v20  create a custom cronpulse string     strftime (CUSTOM, 50, "%M", curr_time);                                                                                                                                                 -                       
     exec     v20  write the cronpulse (returns min)    BASE_timestamp                                                                                i_equal     [[ CUSTOM ]]                                                            -                       
     code     v20  create a custom cronpulse string     strftime (c_time, 50, "%y.%m.%d.%H.%M.%S.%U   %s", curr_time);                                                                                                                          -                       
     code     v20  create a custom expect string        sprintf  (CUSTOM, "BASE_pulse       : :%s   now   %d:", c_time, my.pid);                                                                                                                -                       
     get      v20  review the pulser timestamp          BASE_unit             "cronpulse",     0                                                      u_round/1   [[ CUSTOM ]]                                                            -                       

   COND       v20  check timestamping after short delay                         ----------------------------------------------------------------------  ----------  ----------------------------------------------------------------------  -  -------------------- 
     code     v20  pause to get a different time        sleep(2);                                                                                                                                                                               -                       
     code     v20  update time for sleep                xbase    += 2;                                                                                                                                                                          -                       
     code     v20  make a broken down time              curr_time = localtime(&xbase);                                                                                                                                                          -                       
     code     v20  create a custom cronpulse string     strftime (CUSTOM, 50, "%M", curr_time);                                                                                                                                                 -                       
     exec     v20  write the cronpulse (returns min)    BASE_timestamp                                                                                i_equal     [[ CUSTOM ]]                                                            -                       
     code     v20  create a custom cronpulse string     strftime (c_time, 50, "%y.%m.%d.%H.%M.%S.%U   %s", curr_time);                                                                                                                          -                       
     code     v20  create a custom expect string        sprintf  (CUSTOM, "BASE_pulse       : :%s   now   %d:", c_time, my.pid);                                                                                                                -                       
     get      v20  review the pulser timestamp          BASE_unit             "cronpulse",     0                                                      u_round/1   [[ CUSTOM ]]                                                            -                       

   GROUP      v20  second, use direct write to verify reading of cronpulse      ----------------------------------------------------------------------  ----------  ----------------------------------------------------------------------  -  -------------------- 

   COND       v20  write a baseline date to the pulser file                     ----------------------------------------------------------------------  ----------  ----------------------------------------------------------------------  -  -------------------- 
     code     v20  get the current time                 xbase     = 1;                                                                                                                                                                          -                       
     code     v20  make a broken down time              curr_time = localtime(&xbase);                                                                                                                                                          -                       
     code     v20  create a custom cronpulse string     strftime (c_time, 55, "%y.%m.%d.%H.%M.%S.%U   %s", curr_time);                                                                                                                          -                       
     get      v20  check the pulser name                PROG_getter           "pulse_name"     , 0                                                    s_equal     PROG pulse name  : /tmp/khronos.heartbeat                               -                       
     code     v20  open the cronpulse file              fPULSER = fopen(my.name_pulser, "w");                                                                                                                                                   -                       
     code     v20  write time string                    fprintf(fPULSER, "%s   now   %d", c_time, my.pid);                                                                                                                                                         -                       
     code     v20  close the file                       fclose(fPULSER);                                                                                                                                                                        -                       
     code     v20  create a custom cronpulse string     snprintf (CUSTOM, 50, "%ld", 1);                                                                                                                                                        -                       
     exec     v20  read the cronpulse                   BASE_lastpulse                                                                                i_equal     [[ CUSTOM ]]                                                            -                       
     code     v20  create a custom expect string        sprintf  (CUSTOM, "BASE_pulse       : :%s   now   %d:", c_time, my.pid);                                                                                                                -                       
     get      v20  review the pulser timestamp          BASE_unit             "cronpulse",     0                                                      u_round/1   [[ CUSTOM ]]                                                            -                       

   COND       v20  write the current date to the pulser file                    ----------------------------------------------------------------------  ----------  ----------------------------------------------------------------------  -  -------------------- 
     code     v20  get the current time                 xbase     = time (NULL);                                                                                                                                                                -                       
     code     v20  make a broken down time              curr_time = localtime(&xbase);                                                                                                                                                          -                       
     code     v20  create a custom cronpulse string     strftime (c_time, 55, "%y.%m.%d.%H.%M.%S.%U   %s", curr_time);                                                                                                                          -                       
     code     v20  open the cronpulse file              fPULSER = fopen(my.name_pulser, "w");                                                                                                                                                   -                       
     code     v20  write time string                    fprintf(fPULSER, "%s   now   %d", c_time, my.pid);                                                                                                                                                         -                       
     code     v20  close the file                       fclose(fPULSER);                                                                                                                                                                        -                       
     code     v20  create a custom cronpulse string     snprintf (CUSTOM, 50, "%ld", xbase);                                                                                                                                                    -                       
     exec     v20  read the cronpulse                   BASE_lastpulse                                                                                i_equal     [[ CUSTOM ]]                                                            -                       
     code     v20  create a custom expect string        sprintf  (CUSTOM, "BASE_pulse       : :%s   now   %d:", c_time, my.pid);                                                                                                                -                       
     get      v20  review the pulser timestamp          BASE_unit             "cronpulse",     0                                                      u_round/1   [[ CUSTOM ]]                                                            -                       

   COND       v20  try to work a date that is too small (no change)             ----------------------------------------------------------------------  ----------  ----------------------------------------------------------------------  -  -------------------- 
     code     v20  get the current time                 xbase     = 0;                                                                                                                                                                          -                       
     code     v20  make a broken down time              curr_time = localtime(&xbase);                                                                                                                                                          -                       
     code     v20  create a custom cronpulse string     strftime (c_time, 55, "%y.%m.%d.%H.%M.%S.%U   %s", curr_time);                                                                                                                          -                       
     code     v20  open the cronpulse file              fPULSER = fopen(my.name_pulser, "w");                                                                                                                                                   -                       
     code     v20  write time string                    fprintf(fPULSER, "%s   now   %d", c_time, my.pid);                                                                                                                                                         -                       
     code     v20  close the file                       fclose(fPULSER);                                                                                                                                                                        -                       
     code     v20  get the current time                 xbase     = time (NULL);                                                                                                                                                                -                       
     code     v20  make a broken down time              curr_time = localtime(&xbase);                                                                                                                                                          -                       
     code     v20  create a custom cronpulse string     snprintf (CUSTOM, 50, "%ld", xbase);                                                                                                                                                    -                       
     exec     v20  read the cronpulse                   BASE_lastpulse                                                                                i_equal     [[ CUSTOM ]]                                                            -                       
     code     v20  create a custom cronpulse string     strftime (c_time, 55, "%y.%m.%d.%H.%M.%S.%U   %s", curr_time);                                                                                                                          -                       
     code     v20  create a custom expect string        sprintf  (CUSTOM, "BASE_pulse       : :%s   now   %d:", c_time, my.pid);                                                                                                                -                       
     get      v20  review the pulser timestamp          BASE_unit             "cronpulse",     0                                                      u_round/1   [[ CUSTOM ]]                                                            -                       

   COND       v20  try to work a date in the future (no change)                 ----------------------------------------------------------------------  ----------  ----------------------------------------------------------------------  -  -------------------- 
     code     v20  get the current time                 xbase     = time (NULL) + 100;                                                                                                                                                          -                       
     code     v20  make a broken down time              curr_time = localtime(&xbase);                                                                                                                                                          -                       
     code     v20  create a custom cronpulse string     strftime (c_time, 55, "%y.%m.%d.%H.%M.%S.%U   %s", curr_time);                                                                                                                          -                       
     code     v20  open the cronpulse file              fPULSER = fopen(my.name_pulser, "w");                                                                                                                                                   -                       
     code     v20  write time string                    fprintf(fPULSER, "%s   now   %d", c_time, my.pid);                                                                                                                                                         -                       
     code     v20  close the file                       fclose(fPULSER);                                                                                                                                                                        -                       
     code     v20  get the current time                 xbase     = time (NULL);                                                                                                                                                                -                       
     code     v20  make a broken down time              curr_time = localtime(&xbase);                                                                                                                                                          -                       
     code     v20  create a custom cronpulse string     snprintf (CUSTOM, 50, "%ld", xbase);                                                                                                                                                    -                       
     exec     v20  read the cronpulse                   BASE_lastpulse                                                                                i_equal     [[ CUSTOM ]]                                                            -                       
     code     v20  create a custom cronpulse string     strftime (c_time, 55, "%y.%m.%d.%H.%M.%S.%U   %s", curr_time);                                                                                                                          -                       
     code     v20  create a custom expect string        sprintf  (CUSTOM, "BASE_pulse       : :%s   now   %d:", c_time, my.pid);                                                                                                                -                       
     get      v20  review the pulser timestamp          BASE_unit             "cronpulse",     0                                                      u_round/1   [[ CUSTOM ]]                                                            -                       

   COND       v20  write an arbitrary date to make sure it updates              ----------------------------------------------------------------------  ----------  ----------------------------------------------------------------------  -  -------------------- 
     code     v20  get the current time                 xbase     = 123456789;                                                                                                                                                                  -                       
     code     v20  make a broken down time              curr_time = localtime(&xbase);                                                                                                                                                          -                       
     code     v20  create a custom cronpulse string     strftime (c_time, 55, "%y.%m.%d.%H.%M.%S.%U   %s", curr_time);                                                                                                                          -                       
     code     v20  open the cronpulse file              fPULSER = fopen(my.name_pulser, "w");                                                                                                                                                   -                       
     code     v20  write time string                    fprintf(fPULSER, "%s   now   %d", c_time, my.pid);                                                                                                                                                         -                       
     code     v20  close the file                       fclose(fPULSER);                                                                                                                                                                        -                       
     code     v20  create a custom cronpulse string     snprintf (CUSTOM, 50, "%ld", 123456789);                                                                                                                                                -                       
     exec     v20  read the cronpulse                   BASE_lastpulse                                                                                i_equal     [[ CUSTOM ]]                                                            -                       
     code     v20  create a custom expect string        sprintf  (CUSTOM, "BASE_pulse       : :%s   now   %d:", c_time, my.pid);                                                                                                                -                       
     get      v20  review the pulser timestamp          BASE_unit             "cronpulse",     0                                                      u_round/1   [[ CUSTOM ]]                                                            -                       

   GROUP      v20  third, have khronos write cronpulse and verify               ----------------------------------------------------------------------  ----------  ----------------------------------------------------------------------  -  -------------------- 

   COND       v20  check timestamping at current time                           ----------------------------------------------------------------------  ----------  ----------------------------------------------------------------------  -  -------------------- 
     code     v20  get the current time                 xbase     = time(NULL);                                                                                                                                                                 -                       
     code     v20  make a broken down time              curr_time = localtime(&xbase);                                                                                                                                                          -                       
     code     v20  create a custom cronpulse string     strftime (CUSTOM, 50, "%M", curr_time);                                                                                                                                                 -                       
     exec     v20  write the cronpulse (returns min)    BASE_timestamp                                                                                i_equal     [[ CUSTOM ]]                                                            -                       
     code     v20  create a custom cronpulse string     snprintf (CUSTOM, 50, "%ld", xbase);                                                                                                                                                    -                       
     exec     v20  read the cronpulse                   BASE_lastpulse                                                                                i_equal     [[ CUSTOM ]]                                                            -                       
     code     v20  create a custom cronpulse string     strftime (c_time, 50, "%y.%m.%d.%H.%M.%S.%U   %s", curr_time);                                                                                                                          -                       
     code     v20  create a custom expect string        sprintf  (CUSTOM, "BASE_pulse       : :%s   now   %d:", c_time, my.pid);                                                                                                                -                       
     get      v20  review the pulser timestamp          BASE_unit             "cronpulse",     0                                                      u_round/1   [[ CUSTOM ]]                                                            -                       

   COND       v20  check timestamping after short delay                         ----------------------------------------------------------------------  ----------  ----------------------------------------------------------------------  -  -------------------- 
     code     v20  pause to get a different time        sleep(2);                                                                                                                                                                               -                       
     code     v20  update time for sleep                xbase    += 2;                                                                                                                                                                          -                       
     code     v20  make a broken down time              curr_time = localtime(&xbase);                                                                                                                                                          -                       
     code     v20  create a custom cronpulse string     strftime (CUSTOM, 50, "%M", curr_time);                                                                                                                                                 -                       
     exec     v20  write the cronpulse (returns min)    BASE_timestamp                                                                                i_equal     [[ CUSTOM ]]                                                            -                       
     code     v20  create a custom cronpulse string     snprintf (CUSTOM, 50, "%ld", xbase);                                                                                                                                                    -                       
     exec     v20  read the cronpulse                   BASE_lastpulse                                                                                i_equal     [[ CUSTOM ]]                                                            -                       
     code     v20  create a custom cronpulse string     strftime (c_time, 50, "%y.%m.%d.%H.%M.%S.%U   %s", curr_time);                                                                                                                          -                       
     code     v20  create a custom expect string        sprintf  (CUSTOM, "BASE_pulse       : :%s   now   %d:", c_time, my.pid);                                                                                                                -                       
     get      v20  review the pulser timestamp          BASE_unit             "cronpulse",     0                                                      u_round/1   [[ CUSTOM ]]                                                            -                       

   GROUP      v20  fourth, check some weirdness and resiliency                  ----------------------------------------------------------------------  ----------  ----------------------------------------------------------------------  -  -------------------- 

   COND       v20  write garbage to the pulser file (no change)                 ----------------------------------------------------------------------  ----------  ----------------------------------------------------------------------  -  -------------------- 
     code     v20  open the cronpulse file              fPULSER = fopen(my.name_pulser, "w");                                                                                                                                                   -                       
     code     v20  write time string                    fprintf(fPULSER, "%s", "absolute garbage");                                                                                                                                             -                       
     code     v20  close the file                       fclose(fPULSER);                                                                                                                                                                        -                       
     code     v20  create a custom cronpulse string     snprintf (CUSTOM, 50, "%ld", xbase);                                                                                                                                                    -                       
     exec     v20  read the cronpulse                   BASE_lastpulse                                                                                i_equal     [[ CUSTOM ]]                                                            -                       
     code     v20  create a custom cronpulse string     strftime (c_time, 50, "%y.%m.%d.%H.%M.%S.%U   %s", curr_time);                                                                                                                          -                       
     code     v20  create a custom expect string        sprintf  (CUSTOM, "BASE_pulse       : :%s   now   %d:", c_time, my.pid);                                                                                                                -                       
     get      v20  review the pulser timestamp          BASE_unit             "cronpulse",     0                                                      u_round/1   [[ CUSTOM ]]                                                            -                       

   COND       v20  delete the pulser file (no change)                           ----------------------------------------------------------------------  ----------  ----------------------------------------------------------------------  -  -------------------- 
     code     v20  clear existing cronpulse file        system("rm -f /tmp/cronpulse.kronos_heartbeat");                                                                                                                                        -                       
     code     v20  create a custom cronpulse string     snprintf (CUSTOM, 50, "%ld", xbase);                                                                                                                                                    -                       
     exec     v20  read the cronpulse                   BASE_lastpulse                                                                                i_equal     [[ CUSTOM ]]                                                            -                       
     code     v20  create a custom cronpulse string     strftime (c_time, 50, "%y.%m.%d.%H.%M.%S.%U   %s", curr_time);                                                                                                                          -                       
     code     v20  create a custom expect string        sprintf  (CUSTOM, "BASE_pulse       : :%s   now   %d:", c_time, my.pid);                                                                                                                -                       
     get      v20  review the pulser timestamp          BASE_unit             "cronpulse",     0                                                      u_round/1   [[ CUSTOM ]]                                                            -                       

   COND       v20  check timestamping after a short delay                       ----------------------------------------------------------------------  ----------  ----------------------------------------------------------------------  -  -------------------- 
     code     v20  pause to get a different time        sleep(2);                                                                                                                                                                               -                       
     code     v20  update time for sleep                xbase    += 2;                                                                                                                                                                          -                       
     code     v20  get the current time                 xbase     = time(NULL);                                                                                                                                                                 -                       
     code     v20  make a broken down time              curr_time = localtime(&xbase);                                                                                                                                                          -                       
     code     v20  create a custom cronpulse string     strftime (CUSTOM, 50, "%M", curr_time);                                                                                                                                                 -                       
     exec     v20  write the cronpulse (returns min)    BASE_timestamp                                                                                i_equal     [[ CUSTOM ]]                                                            -                       
     code     v20  create a custom cronpulse string     snprintf (CUSTOM, 50, "%ld", xbase);                                                                                                                                                    -                       
     exec     v20  read the cronpulse                   BASE_lastpulse                                                                                i_equal     [[ CUSTOM ]]                                                            -                       
     code     v20  create a custom cronpulse string     strftime (c_time, 50, "%y.%m.%d.%H.%M.%S.%U   %s", curr_time);                                                                                                                          -                       
     code     v20  create a custom expect string        sprintf  (CUSTOM, "BASE_pulse       : :%s   now   %d:", c_time, my.pid);                                                                                                                -                       
     get      v20  review the pulser timestamp          BASE_unit             "cronpulse",     0                                                      u_round/1   [[ CUSTOM ]]                                                            -                       

   COND       v20  delete the pulser file (no change)                           ----------------------------------------------------------------------  ----------  ----------------------------------------------------------------------  -  -------------------- 
     code     v20  clear existing cronpulse file        system("rm -f /tmp/cronpulse.kronos_heartbeat");                                                                                                                                        -                       
     code     v20  create a custom cronpulse string     snprintf (CUSTOM, 50, "%ld", xbase);                                                                                                                                                    -                       
     exec     v20  read the cronpulse                   BASE_lastpulse                                                                                i_equal     [[ CUSTOM ]]                                                            -                       
     code     v20  create a custom cronpulse string     strftime (c_time, 50, "%y.%m.%d.%H.%M.%S.%U   %s", curr_time);                                                                                                                          -                       
     code     v20  create a custom expect string        sprintf  (CUSTOM, "BASE_pulse       : :%s   now   %d:", c_time, my.pid);                                                                                                                -                       
     get      v20  review the pulser timestamp          BASE_unit             "cronpulse",     0                                                      u_round/1   [[ CUSTOM ]]                                                            -                       

   COND       v20  write a partial date in the past (no change)                 ----------------------------------------------------------------------  ----------  ----------------------------------------------------------------------  -  -------------------- 
     code     v20  create a custom cronpulse string     snprintf (c_time, 55, "15.03.11.08.00.00.00");                                                                                                                                          -                       
     code     v20  open the cronpulse file              fPULSER = fopen(my.name_pulser, "w");                                                                                                                                                   -                       
     code     v20  write time string                    fprintf(fPULSER, "%s", c_time);                                                                                                                                                         -                       
     code     v20  close the file                       fclose(fPULSER);                                                                                                                                                                        -                       
     code     v20  create a custom cronpulse string     snprintf (CUSTOM, 50, "%ld", xbase);                                                                                                                                                    -                       
     exec     v20  read the cronpulse                   BASE_lastpulse                                                                                i_equal     [[ CUSTOM ]]                                                            -                       
     code     v20  create a custom cronpulse string     strftime (c_time, 55, "%y.%m.%d.%H.%M.%S.%U   %s", curr_time);                                                                                                                          -                       
     code     v20  create a custom expect string        sprintf  (CUSTOM, "BASE_pulse       : :%s   now   %d:", c_time, my.pid);                                                                                                                -                       
     get      v20  review the pulser timestamp          BASE_unit             "cronpulse",     0                                                      u_round/1   [[ CUSTOM ]]                                                            -                       

   GROUP      v20  fifth, use good values again                                 ----------------------------------------------------------------------  ----------  ----------------------------------------------------------------------  -  -------------------- 

   COND       v20  write a baseline date to the pulser file                     ----------------------------------------------------------------------  ----------  ----------------------------------------------------------------------  -  -------------------- 
     code     v20  get the current time                 xbase     = 1;                                                                                                                                                                          -                       
     code     v20  make a broken down time              curr_time = localtime(&xbase);                                                                                                                                                          -                       
     code     v20  create a custom cronpulse string     strftime (c_time, 55, "%y.%m.%d.%H.%M.%S.%U   %s", curr_time);                                                                                                                          -                       
     code     v20  open the cronpulse file              fPULSER = fopen(my.name_pulser, "w");                                                                                                                                                   -                       
     code     v20  write time string                    fprintf(fPULSER, "%s", c_time);                                                                                                                                                         -                       
     code     v20  close the file                       fclose(fPULSER);                                                                                                                                                                        -                       
     code     v20  create a custom cronpulse string     snprintf (CUSTOM, 50, "%ld", 1);                                                                                                                                                        -                       
     exec     v20  read the cronpulse                   BASE_lastpulse                                                                                i_equal     [[ CUSTOM ]]                                                            -                       
     code     v20  create a custom expect string        sprintf  (CUSTOM, "BASE_pulse       : :%s   now   %d:", c_time, my.pid);                                                                                                                -                       
     get      v20  review the pulser timestamp          BASE_unit             "cronpulse",     0                                                      u_round/1   [[ CUSTOM ]]                                                            -                       

   COND       v20  write the current date to the pulser file                    ----------------------------------------------------------------------  ----------  ----------------------------------------------------------------------  -  -------------------- 
     code     v20  get the current time                 xbase     = time (NULL);                                                                                                                                                                -                       
     code     v20  make a broken down time              curr_time = localtime(&xbase);                                                                                                                                                          -                       
     code     v20  create a custom cronpulse string     strftime (c_time, 55, "%y.%m.%d.%H.%M.%S.%U   %s", curr_time);                                                                                                                          -                       
     code     v20  open the cronpulse file              fPULSER = fopen(my.name_pulser, "w");                                                                                                                                                   -                       
     code     v20  write time string                    fprintf(fPULSER, "%s", c_time);                                                                                                                                                         -                       
     code     v20  close the file                       fclose(fPULSER);                                                                                                                                                                        -                       
     code     v20  create a custom cronpulse string     snprintf (CUSTOM, 50, "%ld", xbase);                                                                                                                                                    -                       
     exec     v20  read the cronpulse                   BASE_lastpulse                                                                                i_equal     [[ CUSTOM ]]                                                            -                       
     code     v20  create a custom expect string        sprintf  (CUSTOM, "BASE_pulse       : :%s   now   %d:", c_time, my.pid);                                                                                                                -                       
     get      v20  review the pulser timestamp          BASE_unit             "cronpulse",     0                                                      u_round/1   [[ CUSTOM ]]                                                            -                       

   GROUP      v20  sixth, move cronpulse to somewhere illegal                   ----------------------------------------------------------------------  ----------  ----------------------------------------------------------------------  -  -------------------- 

   COND       v20  move cronpulse to missing directory                          ----------------------------------------------------------------------  ----------  ----------------------------------------------------------------------  -  -------------------- 
     code     v20  move pulser file location            snprintf (my.name_pulser, 200, "/jojo/%s", FILE_PULSE);                                                                                                                                 -                       
     code     v20  create a custom cronpulse string     snprintf (CUSTOM, 50, "%d", -1);                                                                                                                                                        -                       
     exec     v20  write the cronpulse (returns min)    BASE_timestamp                                                                                i_equal     [[ CUSTOM ]]                                                            -                       

   COND       v20  move cronpulse back to legal location                        ----------------------------------------------------------------------  ----------  ----------------------------------------------------------------------  -  -------------------- 
     exec     v20  reset the cronpulse location         PROG_testfiles                                                                                i_equal     0                                                                       -                       
     code     v20  get the current time                 xbase     = time(NULL);                                                                                                                                                                 -                       
     code     v20  make a broken down time              curr_time = localtime(&xbase);                                                                                                                                                          -                       
     code     v20  create a custom cronpulse string     strftime (CUSTOM, 50, "%M", curr_time);                                                                                                                                                 -                       
     exec     v20  write the cronpulse (returns min)    BASE_timestamp                                                                                i_equal     [[ CUSTOM ]]                                                            -                       
     code     v20  create a custom cronpulse string     strftime (c_time, 50, "%y.%m.%d.%H.%M.%S.%U   %s", curr_time);                                                                                                                          -                       
     code     v20  create a custom expect string        sprintf  (CUSTOM, "BASE_pulse       : :%s   now   %d:", c_time, my.pid);                                                                                                                -                       
     get      v20  review the pulser timestamp          BASE_unit             "cronpulse",     0                                                      u_round/1   [[ CUSTOM ]]                                                            -                       

   COND       v20  purge the cron system                                        ----------------------------------------------------------------------  ----------  ----------------------------------------------------------------------  -  -------------------- 
     exec     v20  retire all files                     BASE_purge                                                                                    i_equal     0                                                                       -                       
     get      v20  review the file list                 LIST_unit             "files"        , NULL                                                   s_equal     LIST file list   : n=   0, f=   0, b=   0, h=(nil)     , t=(nil)        -                       



#23456789012  123  123456789-123456789-123456789-12345  123456789-123456789-  123456789-123456789-123456789-123456789-123456789-123456789-123456789-  123456789-  123456789-123456789-123456789-123456789-123456789-123456789-123456789-  -  123456789-123456789- 
#==(verb)===  ver  ===========(description)===========  =====(function)=====  ========================(arguments)===================================  ==(test)==  ==========================(results)===================================  t  ========(var)======= 
SCRP          v20  verify correct writes to cronwatch file                      BASE_begwatch, BASE_endwatch                                            ----------  ----------------------------------------------------------------------  -  -------------------- 

   COND       v20  initialize program                                           ----------------------------------------------------------------------  ----------  ----------------------------------------------------------------------  -  --------------------  
     exec     v20  initialize the logger (quiet mode)   PROG_testquiet                                                                                i_equal     0                                                                       -                       
     code     v20  holder for broken-down time          struct tm *curr_time = NULL;                                                                                                                                                            -                       
     code     v20  create a custom time string          char c_time[60];                                                                                                                                                                        -                       
     code     v20  holder for current time              long       xbase     = 0;                                                                                                                                                               -                       
     code     v20  create a custom expect string        char xbegin[100];                                                                                                                                                                       -                       
     code     v20  create a custom expect string        char xend  [100];                                                                                                                                                                       -                       
     code     v20  create a custom expect string        char record[2000];                                                                                                                                                                      -                       
     code     v20  create a file object                 FILE *fWATCHER  = NULL;                                                                                                                                                                 -                       
     code     v20  set updates to true                  my.updates = 0;                                                                                                                                                                         -                       
 
   COND       v20  clear out the watcher file                                   ----------------------------------------------------------------------  ----------  ----------------------------------------------------------------------  -  -------------------- 
     code     v20  make the system command string       snprintf (CUSTOM, 300, "rm -f %s", my.name_watcher);                                                                                                                                    -                       
     code     v20  clear existing cronwatch file        system   (CUSTOM);                                                                                                                                                                      -                       

   COND       v20  activate the watcher                                         ----------------------------------------------------------------------  ----------  ----------------------------------------------------------------------  -  -------------------- 
     exec     v20  call the watcher                     BASE_begwatch                                                                                 i_equal     0                                                                       -                       

   COND       v20  test the cron beginning line (internal data)                 ----------------------------------------------------------------------  ----------  ----------------------------------------------------------------------  -  -------------------- 
     code     v20  get the current time                 xbase     = time(NULL);                                                                                                                                                                 -                       
     code     v20  make a broken down time              curr_time = localtime(&xbase);                                                                                                                                                          -                       
     code     v20  create a custom cronpulse string     strftime (c_time, 50, "%y.%m.%d.%H.%M.%S.%U   %s", curr_time);                                                                                                                          -                       
     code     v20  create a custom expect string        sprintf  (CUSTOM, "BASE_begwatch    : :%s   BEG   %d:", c_time, my.pid);                                                                                                                -                       
     get      v20  review the beginning time            BASE_unit             "cronbegin",     0                                                      u_round/1   [[ CUSTOM ]]                                                            -                        

   COND       v20  test the cron beginning line (cronwatch file)                ----------------------------------------------------------------------  ----------  ----------------------------------------------------------------------  -  -------------------- 
     code     v20  make the system command string       snprintf (CUSTOM, 300, "tail -1 %s > /tmp/testing.txt", my.name_watcher);                                                                                                               -                       
     code     v20  get last line of cronwatch file      system   (CUSTOM);                                                                                                                                                                      -                       
     code     v20  open the cronwatch extract file      fWATCHER = fopen ("/tmp/testing.txt", "r");                                                                                                                                             -                       
     code     v20  read the only line                   fgets    (record, 100, fWATCHER);                                                                                                                                                       -                       
     code     v20  close the file                       fclose   (fWATCHER);                                                                                                                                                                    -                       
     code     v20  strip the final newline              record [ strlen (record) - 1] = '\0';                                                                                                                                                   -                       
     code     v20  create a custom expect string        sprintf  (CUSTOM, "BASE_begwatch    : :%s:", record);                                                                                                                                   -                       
     get      v20  review the beginning time            BASE_unit             "cronbegin",     0                                                      u_round/1   [[ CUSTOM ]]                                                            -                        

   COND       v20  wait two seconds and activate watcher                        ----------------------------------------------------------------------  ----------  ----------------------------------------------------------------------  -  -------------------- 
     code     v20  pause to get a different time        sleep(2);                                                                                                                                                                               -                       
     exec     v20  call the watcher                     BASE_endwatch                                                                                 i_equal     0                                                                       -                       

   COND       v20  test the cron ending line (internal data)                    ----------------------------------------------------------------------  ----------  ----------------------------------------------------------------------  -  -------------------- 
     code     v20  get the current time                 xbase     = time(NULL);                                                                                                                                                                 -                       
     code     v20  make a broken down time              curr_time = localtime(&xbase);                                                                                                                                                          -                       
     code     v20  create a custom cronpulse string     strftime (c_time, 50, "%y.%m.%d.%H.%M.%S.%U   %s", curr_time);                                                                                                                          -                       
     code     v20  create a custom expect string        sprintf  (CUSTOM, "BASE_endwatch    : :%s   end   %d:", c_time, my.pid);                                                                                                                -                       
     get      v20  review the beginning time            BASE_unit             "cronend"  ,     0                                                      u_round/1   [[ CUSTOM ]]                                                            -                        

   COND       v20  test the cron ending line (cronwatch file)                   ----------------------------------------------------------------------  ----------  ----------------------------------------------------------------------  -  -------------------- 
     code     v20  make the system command string       snprintf (CUSTOM, 300, "tail -1 %s > /tmp/testing.txt", my.name_watcher);                                                                                                               -                       
     code     v20  get last line of cronwatch file      system   (CUSTOM);                                                                                                                                                                      -                       
     code     v20  open the cronwatch extract file      fWATCHER = fopen ("/tmp/testing.txt", "r");                                                                                                                                             -                       
     code     v20  read the only line                   fgets    (record, 100, fWATCHER);                                                                                                                                                       -                       
     code     v20  close the file                       fclose   (fWATCHER);                                                                                                                                                                    -                       
     code     v20  strip the final newline              record [ strlen (record) - 1] = '\0';                                                                                                                                                   -                       
     code     v20  create a custom expect string        sprintf  (CUSTOM, "BASE_endwatch    : :%s:", record);                                                                                                                                   -                       
     get      v20  review the beginning time            BASE_unit             "cronend"  ,     0                                                      u_round/1   [[ CUSTOM ]]                                                            -                        

   COND       v20  purge the cron system                                       ----------------------------------------------------------------------  ----------  ----------------------------------------------------------------------  -  -------------------- 
     exec     v20  retire all files                     BASE_purge                                                                                    i_equal     0                                                                       -                       
     get      v20  review the file list                 LIST_unit             "files"        , NULL                                                   s_equal     LIST file list   : n=   0, f=   0, b=   0, h=(nil)     , t=(nil)        -                       



#23456789012  123  123456789-123456789-123456789-12345  123456789-123456789-  123456789-123456789-123456789-123456789-123456789-123456789-123456789-  123456789-  123456789-123456789-123456789-123456789-123456789-123456789-123456789-  -  123456789-123456789- 
#==(verb)===  ver  ===========(description)===========  =====(function)=====  ========================(arguments)===================================  ==(test)==  ==========================(results)===================================  t  ========(var)======= 
SCRP          v20  crontab name validation                                      BASE_name                                                               ----------  ----------------------------------------------------------------------  -  -------------------- 

   COND       v20  prepare for run                                              ----------------------------------------------------------------------  ----------  ----------------------------------------------------------------------  -  -------------------- 
     exec     v20  initialize the logger (quiet mode)   PROG_testquiet                                                                                i_equal     0                                                                       -                       

   COND       v20  put a simple name through                                    ----------------------------------------------------------------------  ----------  ----------------------------------------------------------------------  -  -------------------- 
     exec     v20  call the crontab name validation     BASE_name             "root.crontab", '-'                                                     i_equal     0                                                                       -                       
     get      v20  review the user name                 BASE_unit             "user",          0                                                      s_equal     BASE_name user   : root                                                 -                       
     get      v20  review the description               BASE_unit             "desc",          0                                                      s_equal     BASE_name desc   : crontab                                              -                       
     get      v20  review the crontab name              BASE_unit             "name",          0                                                      s_equal     BASE_name name   : root.crontab                                         -                       

   COND       v20  put a one part name through                                  ----------------------------------------------------------------------  ----------  ----------------------------------------------------------------------  -  -------------------- 
     exec     v20  call the crontab name validation     BASE_name             "root"                      , '-'                                       i_not       0                                                                       -                       

   COND       v20  put a traditional name through                               ----------------------------------------------------------------------  ----------  ----------------------------------------------------------------------  -  -------------------- 
     exec     v20  call the crontab name validation     BASE_name             "crontab"                   , '-'                                       i_not       0                                                                       -                       

   COND       v20  put a three part name though                                 ----------------------------------------------------------------------  ----------  ----------------------------------------------------------------------  -  -------------------- 
     exec     v20  call the crontab name validation     BASE_name             "root.crontab.special"      , '-'                                       i_not       0                                                                       -                       

   COND       v20  put a NEW version through                                    ----------------------------------------------------------------------  ----------  ----------------------------------------------------------------------  -  -------------------- 
     exec     v20  call the crontab name validation     BASE_name             "root.crontab.NEW"          , '-'                                       i_not       0                                                                       -                       

   COND       v20  put a DEL version through                                    ----------------------------------------------------------------------  ----------  ----------------------------------------------------------------------  -  -------------------- 
     exec     v20  call the crontab name validation     BASE_name             "root.crontab.DEL"          , '-'                                       i_not       0                                                                       -                       

   COND       v20  put a hidden file through                                    ----------------------------------------------------------------------  ----------  ----------------------------------------------------------------------  -  -------------------- 
     exec     v20  call the crontab name validation     BASE_name             ".root.crontab"             , '-'                                       i_not       0                                                                       -                       

   COND       v20  put a name with a internal space through                     ----------------------------------------------------------------------  ----------  ----------------------------------------------------------------------  -  -------------------- 
     exec     v20  call the crontab name validation     BASE_name             "root.my crontab"           , '-'                                       i_not       0                                                                       -                       

   COND       v20  put a name with a dash through                               ----------------------------------------------------------------------  ----------  ----------------------------------------------------------------------  -  -------------------- 
     exec     v20  call the crontab name validation     BASE_name             "root.my-crontab"           , '-'                                       i_not       0                                                                       -                       

   COND       v20  put a name with an underscore through                        ----------------------------------------------------------------------  ----------  ----------------------------------------------------------------------  -  -------------------- 
     exec     v20  call the crontab name validation     BASE_name             "root.my_crontab"           , '-'                                       i_equal     0                                                                       -                       
     get      v20  review the user name                 BASE_unit             "user",          0                                                      s_equal     BASE_name user   : root                                                 -                       
     get      v20  review the description               BASE_unit             "desc",          0                                                      s_equal     BASE_name desc   : my_crontab                                           -                       
     get      v20  review the crontab name              BASE_unit             "name",          0                                                      s_equal     BASE_name name   : root.my_crontab                                      -                       

   COND       v20  put a null user name through                                 ----------------------------------------------------------------------  ----------  ----------------------------------------------------------------------  -  -------------------- 
     exec     v20  call the crontab name validation     BASE_name             ".my-crontab"               , '-'                                       i_not       0                                                                       -                       

   COND       v20  put a backup file through                                    ----------------------------------------------------------------------  ----------  ----------------------------------------------------------------------  -  -------------------- 
     exec     v20  call the crontab name validation     BASE_name             "root.my-crontab~"          , '-'                                       i_not       0                                                                       -                       

   COND       v20  put a null description through                               ----------------------------------------------------------------------  ----------  ----------------------------------------------------------------------  -  -------------------- 
     exec     v20  call the crontab name validation     BASE_name             "root."                     , '-'                                       i_not       0                                                                       -                       

   COND       v20  put a name with a hash through                               ----------------------------------------------------------------------  ----------  ----------------------------------------------------------------------  -  -------------------- 
     exec     v20  call the crontab name validation     BASE_name             "root.my#crontab"           , '-'                                       i_not       0                                                                       -                       

   COND       v20  put a name with a parens through                             ----------------------------------------------------------------------  ----------  ----------------------------------------------------------------------  -  -------------------- 
     exec     v20  call the crontab name validation     BASE_name             "root.my(best)crontab"      , '-'                                       i_not       0                                                                       -                       

   COND       v20  put a name with a brackets through                           ----------------------------------------------------------------------  ----------  ----------------------------------------------------------------------  -  -------------------- 
     exec     v20  call the crontab name validation     BASE_name             "root.my[best]crontab"      , '-'                                       i_not       0                                                                       -                       

   COND       v20  put a name with a splat through                              ----------------------------------------------------------------------  ----------  ----------------------------------------------------------------------  -  -------------------- 
     exec     v20  call the crontab name validation     BASE_name             "root.my*crontab"           , '-'                                       i_not       0                                                                       -                       

   COND       v20  put a user with a internal space through                     ----------------------------------------------------------------------  ----------  ----------------------------------------------------------------------  -  -------------------- 
     exec     v20  call the crontab name validation     BASE_name             "my user.crontab"           , '-'                                       i_not       0                                                                       -                       

   COND       v20  put a user with a internal dash through                      ----------------------------------------------------------------------  ----------  ----------------------------------------------------------------------  -  -------------------- 
     exec     v20  call the crontab name validation     BASE_name             "my user.crontab"           , '-'                                       i_not       0                                                                       -                       

   COND       v20  put a user with a leading hash                               ----------------------------------------------------------------------  ----------  ----------------------------------------------------------------------  -  -------------------- 
     exec     v20  call the crontab name validation     BASE_name             "#myuser.crontab"           , '-'                                       i_not       0                                                                       -                       

   COND       v20  put a short name through                                     ----------------------------------------------------------------------  ----------  ----------------------------------------------------------------------  -  -------------------- 
     exec     v20  call the crontab name validation     BASE_name             "a.a"                      , '-'                                        i_equal     0                                                                       -                       
     get      v20  review the user name                 BASE_unit             "user",          0                                                      s_equal     BASE_name user   : a                                                    -                       
     get      v20  review the description               BASE_unit             "desc",          0                                                      s_equal     BASE_name desc   : a                                                    -                       
     get      v20  review the crontab name              BASE_unit             "name",          0                                                      s_equal     BASE_name name   : a.a                                                  -                       

   COND       v20  put a max user name through                                  ----------------------------------------------------------------------  ----------  ----------------------------------------------------------------------  -  -------------------- 
     exec     v20  call the crontab name validation     BASE_name             "abcdefghijklmnopqrst.uvwxyzabcdefghijklmnopqrstuvwxy", '-'             i_equal     0                                                                       -                       
     get      v20  review the user name                 BASE_unit             "user",          0                                                      s_equal     BASE_name user   : abcdefghijklmnopqrst                                 -                       
     get      v20  review the description               BASE_unit             "desc",          0                                                      s_equal     BASE_name desc   : uvwxyzabcdefghijklmnopqrstuvwxy                      -                       

   COND       v20  put a one over user name through                             ----------------------------------------------------------------------  ----------  ----------------------------------------------------------------------  -  -------------------- 
     exec     v20  call the crontab name validation     BASE_name             "abcdefghijklmnopqrstu.vwxyzabcdefghijklmnopqrstuvwxy", '-'             i_not       0                                                                       -                       

   COND       v20  put a long user name through                                 ----------------------------------------------------------------------  ----------  ----------------------------------------------------------------------  -  -------------------- 
     exec     v20  call the crontab name validation     BASE_name             "abcdefghijklmnopqrstuvwxyz.abcdefghijklmnopqrstuvwxy", '-'             i_not       0                                                                       -                       

   COND       v20  put a max decription through                                 ----------------------------------------------------------------------  ----------  ----------------------------------------------------------------------  -  -------------------- 
     exec     v20  call the crontab name validation     BASE_name             "a.abcdefghijklmnopqrstuvwxyzabcdefghijklmnopqrstuvwx", '-'             i_equal     0                                                                       -                       
     get      v20  review the user name                 BASE_unit             "user",          0                                                      s_equal     BASE_name user   : a                                                    -                       
     get      v20  review the description               BASE_unit             "desc",          0                                                      s_equal     BASE_name desc   : abcdefghijklmnopqrstuvwxyzabcdefghi                  -                       

   COND       v20  put a one over description through                           ----------------------------------------------------------------------  ----------  ----------------------------------------------------------------------  -  -------------------- 
     exec     v20  call the crontab name validation     BASE_name             "a.abcdefghijklmnopqrstuvwxyzabcdefghijklmnopqrstuvwxy", '-'            i_not       0                                                                       -                       

   COND       v20  put a NEW version through with crontab switch                ----------------------------------------------------------------------  ----------  ----------------------------------------------------------------------  -  -------------------- 
     exec     v20  call the crontab name validation     BASE_name             "root.crontab.NEW"          , 'c'                                       i_equal     0                                                                       -                       
     get      v20  review the user name                 BASE_unit             "user",          0                                                      s_equal     BASE_name user   : root                                                 -                       
     get      v20  review the description               BASE_unit             "desc",          0                                                      s_equal     BASE_name desc   : crontab                                              -                       
     get      v20  review the crontab name              BASE_unit             "name",          0                                                      s_equal     BASE_name name   : root.crontab.NEW                                     -                       

   COND       v20  put a DEL version through with crontab switch                ----------------------------------------------------------------------  ----------  ----------------------------------------------------------------------  -  -------------------- 
     exec     v20  call the crontab name validation     BASE_name             "root.crontab.DEL"          , 'c'                                       i_equal     0                                                                       -                       
     get      v20  review the user name                 BASE_unit             "user",          0                                                      s_equal     BASE_name user   : root                                                 -                       
     get      v20  review the description               BASE_unit             "desc",          0                                                      s_equal     BASE_name desc   : crontab                                              -                       
     get      v20  review the crontab name              BASE_unit             "name",          0                                                      s_equal     BASE_name name   : root.crontab.DEL                                     -                       

   COND       v20  purge the cron system                                        ----------------------------------------------------------------------  ----------  ----------------------------------------------------------------------  -  -------------------- 
     exec     v20  retire all files                     BASE_purge                                                                                    i_equal     0                                                                       -                       
     get      v20  review the file list                 LIST_unit             "files"        , NULL                                                   s_equal     LIST file list   : n=   0, f=   0, b=   0, h=(nil)     , t=(nil)        -                       




#23456789012  123  123456789-123456789-123456789-12345  123456789-123456789-  123456789-123456789-123456789-123456789-123456789-123456789-123456789-  123456789-  123456789-123456789-123456789-123456789-123456789-123456789-123456789-  -  123456789-123456789- 
#==(verb)===  ver  ===========(description)===========  =====(function)=====  ========================(arguments)===================================  ==(test)==  ==========================(results)===================================  t  ========(var)======= 
SCRP          v20  create and retire cronfiles directly                         CFILE_create, CFILE_link, CFILE_unlink, CFILE_delete                    ----------  ----------------------------------------------------------------------  -  -------------------- 

   COND       v20  prepare for run                                              ----------------------------------------------------------------------  ----------  ----------------------------------------------------------------------  -  -------------------- 
     exec     v20  initialize the logger                PROG_testquiet                                                                                i_equal     0                                                                       -                       
     code     v20  create a cronfile pointer            tCFILE *cfile_1st = NULL;                                                                                                                                                               -                       
     code     v20  create a cronfile pointer            tCFILE *cfile_2nd = NULL;                                                                                                                                                               -                       
     code     v20  create a cronfile pointer            tCFILE *cfile_3rd = NULL;                                                                                                                                                               -                       
     code     v20  create a cronfile pointer            tCFILE *cfile_4th = NULL;                                                                                                                                                               -                       

   COND       v20  review initial cronfile list                                 ----------------------------------------------------------------------  ----------  ----------------------------------------------------------------------  -  -------------------- 
     get      v20  review the counters                  LIST_unit             "counters"     , NULL                                                   s_equal     LIST counters    : file    0m,    0n;  line     0m,     0n              -                       
     get      v20  review the file list                 LIST_unit             "files"        , NULL                                                   s_equal     LIST file list   : n=   0, f=   0, b=   0, h=(nil)     , t=(nil)        -                       
     exec     v20  list the lines                       LIST_list                                                                                     i_equal     0                                                                       -                       

   COND       v20  create first                                                 ----------------------------------------------------------------------  ----------  ----------------------------------------------------------------------  -  -------------------- 
     exec     v20  add a new file                       CFILE_create          UNLINKED                                                                p_exists    0                                                                       -                       
     code     v20  save pointer                         cfile_1st = yUNIT_p_rc;                                                                                                                                                                 -                       
     get      v20  review the counters                  LIST_unit             "counters"     , NULL                                                   s_equal     LIST counters    : file    1m,    0n;  line     0m,     0n              -                       
     get      v20  review the file list                 LIST_unit             "files"        , NULL                                                   s_equal     LIST file list   : n=   0, f=   0, b=   0, h=(nil)     , t=(nil)        -                       
     exec     v20  list the lines                       LIST_list                                                                                     i_equal     0                                                                       -                       

   COND       v20  link first to list                                           ----------------------------------------------------------------------  ----------  ----------------------------------------------------------------------  -  -------------------- 
     exec     v20  link the file                        CFILE_link            cfile_1st                                                               i_equal     0                                                                       -                       
     get      v20  review the counts                    LIST_unit             "counters"     , NULL                                                   s_equal     LIST counters    : file    1m,    1n;  line     0m,     0n              -                       
     code     v20  create a custom file expect string   sprintf  (CUSTOM, "LIST file list   : n=%4d, f=%4d, b=%4d, h=%-10p, t=%p", 1, 1, 1, cfile_1st, cfile_1st);                                                                              -                       
     get      v20  review the file list                 LIST_unit             "files"        , NULL                                                   s_equal     [[ CUSTOM ]]                                                            -                       
     exec     v20  list the lines                       LIST_list                                                                                     i_equal     0                                                                       -                       

   COND       v20  link first to list, again (attempt double link)              ----------------------------------------------------------------------  ----------  ----------------------------------------------------------------------  -  -------------------- 
     exec     v20  link the file                        CFILE_link            cfile_1st                                                               i_not       0                                                                       -                       
     get      v20  review the counts                    LIST_unit             "counters"     , NULL                                                   s_equal     LIST counters    : file    1m,    1n;  line     0m,     0n              -                       
     code     v20  create a custom file expect string   sprintf  (CUSTOM, "LIST file list   : n=%4d, f=%4d, b=%4d, h=%-10p, t=%p", 1, 1, 1, cfile_1st, cfile_1st);                                                                              -                       
     get      v20  review the file list                 LIST_unit             "files"        , NULL                                                   s_equal     [[ CUSTOM ]]                                                            -                       
     exec     v20  list the lines                       LIST_list                                                                                     i_equal     0                                                                       -                       

   COND       v20  unlink the first                                             ----------------------------------------------------------------------  ----------  ----------------------------------------------------------------------  -  -------------------- 
     exec     v20  unlink the file                      CFILE_unlink          cfile_1st                                                               i_equal     0                                                                       -                       
     get      v20  review the counts                    LIST_unit             "counters"     , NULL                                                   s_equal     LIST counters    : file    1m,    0n;  line     0m,     0n              -                       
     code     v20  create a custom file expect string   sprintf  (CUSTOM, "LIST file list   : n=%4d, f=%4d, b=%4d, h=%-10p, t=%p", 0, 0, 0, NULL     , NULL     );                                                                              -                       
     get      v20  review the file list                 LIST_unit             "files"        , NULL                                                   s_equal     [[ CUSTOM ]]                                                            -                       
     exec     v20  list the lines                       LIST_list                                                                                     i_equal     0                                                                       -                       

   COND       v20  unlink the first, again                                      ----------------------------------------------------------------------  ----------  ----------------------------------------------------------------------  -  -------------------- 
     exec     v20  unlink the file                      CFILE_unlink          cfile_1st                                                               i_not       0                                                                       -                       
     get      v20  review the counts                    LIST_unit             "counters"     , NULL                                                   s_equal     LIST counters    : file    1m,    0n;  line     0m,     0n              -                       
     code     v20  create a custom file expect string   sprintf  (CUSTOM, "LIST file list   : n=%4d, f=%4d, b=%4d, h=%-10p, t=%p", 0, 0, 0, NULL     , NULL     );                                                                              -                       
     get      v20  review the file list                 LIST_unit             "files"        , NULL                                                   s_equal     [[ CUSTOM ]]                                                            -                       
     exec     v20  list the lines                       LIST_list                                                                                     i_equal     0                                                                       -                       

   COND       v20  delete the first                                             ----------------------------------------------------------------------  ----------  ----------------------------------------------------------------------  -  -------------------- 
     exec     v20  delete the file                      CFILE_delete          cfile_1st                                                               p_null      0                                                                       -                       
     code     v20  save pointer                         cfile_1st = yUNIT_p_rc;                                                                                                                                                                 -                       
     get      v20  review the counts                    LIST_unit             "counters"     , NULL                                                   s_equal     LIST counters    : file    0m,    0n;  line     0m,     0n              -                       
     code     v20  create a custom file expect string   sprintf  (CUSTOM, "LIST file list   : n=%4d, f=%4d, b=%4d, h=%-10p, t=%p", 0, 0, 0, NULL     , NULL     );                                                                              -                       
     get      v20  review the file list                 LIST_unit             "files"        , NULL                                                   s_equal     [[ CUSTOM ]]                                                            -                       
     exec     v20  list the lines                       LIST_list                                                                                     i_equal     0                                                                       -                       

   COND       v20  delete the first, again                                      ----------------------------------------------------------------------  ----------  ----------------------------------------------------------------------  -  -------------------- 
     exec     v20  delete the file                      CFILE_delete          cfile_1st                                                               p_null      0                                                                       -                       
     code     v20  save pointer                         cfile_1st = yUNIT_p_rc;                                                                                                                                                                 -                       
     get      v20  review the counts                    LIST_unit             "counters"     , NULL                                                   s_equal     LIST counters    : file    0m,    0n;  line     0m,     0n              -                       
     code     v20  create a custom file expect string   sprintf  (CUSTOM, "LIST file list   : n=%4d, f=%4d, b=%4d, h=%-10p, t=%p", 0, 0, 0, NULL     , NULL     );                                                                              -                       
     get      v20  review the file list                 LIST_unit             "files"        , NULL                                                   s_equal     [[ CUSTOM ]]                                                            -                       
     exec     v20  list the lines                       LIST_list                                                                                     i_equal     0                                                                       -                       

   COND       v20  create and link first (manually)                             ----------------------------------------------------------------------  ----------  ----------------------------------------------------------------------  -  -------------------- 
     exec     v20  add a new file                       CFILE_create          UNLINKED                                                                p_exists    0                                                                       -                       
     code     v20  save pointer                         cfile_1st = yUNIT_p_rc;                                                                                                                                                                 -                       
     exec     v20  link the file                        CFILE_link            cfile_1st                                                               i_equal     0                                                                       -                       
     get      v20  review the counts                    LIST_unit             "counters"     , NULL                                                   s_equal     LIST counters    : file    1m,    1n;  line     0m,     0n              -                       
     code     v20  create a custom file expect string   sprintf  (CUSTOM, "LIST file list   : n=%4d, f=%4d, b=%4d, h=%-10p, t=%p", 1, 1, 1, cfile_1st, cfile_1st);                                                                              -                       
     get      v20  review the file list                 LIST_unit             "files"        , NULL                                                   s_equal     [[ CUSTOM ]]                                                            -                       
     exec     v20  list the lines                       LIST_list                                                                                     i_equal     0                                                                       -                       

   COND       v20  create and link second (autolink)                            ----------------------------------------------------------------------  ----------  ----------------------------------------------------------------------  -  -------------------- 
     exec     v20  add a new file                       CFILE_create          LINKED                                                                  p_exists    0                                                                       -                       
     code     v20  save pointer                         cfile_2nd = yUNIT_p_rc;                                                                                                                                                                 -                       
     get      v20  review the counts                    LIST_unit             "counters"     , NULL                                                   s_equal     LIST counters    : file    2m,    2n;  line     0m,     0n              -                       
     code     v20  create a custom expect string        sprintf  (CUSTOM, "LIST file list   : n=%4d, f=%4d, b=%4d, h=%-10p, t=%p", 2, 2, 2, cfile_1st, cfile_2nd);                                                                             -                       
     get      v20  review the list                      LIST_unit             "files"        , NULL                                                   s_equal     [[ CUSTOM ]]                                                            -                       
     exec     v20  list the lines                       LIST_list                                                                                     i_equal     0                                                                       -                       

   COND       v20  create and link third (autolink and dup attempt)             ----------------------------------------------------------------------  ----------  ----------------------------------------------------------------------  -  -------------------- 
     exec     v20  add a new file                       CFILE_create          LINKED                                                                  p_exists    0                                                                       -                       
     code     v20  save pointer                         cfile_3rd = yUNIT_p_rc;                                                                                                                                                                 -                       
     exec     v20  link the file                        CFILE_link            cfile_3rd                                                               i_not       0                                                                       -                       
     get      v20  review the counts                    LIST_unit             "counters"     , NULL                                                   s_equal     LIST counters    : file    3m,    3n;  line     0m,     0n              -                       
     code     v20  create a custom expect string        sprintf  (CUSTOM, "LIST file list   : n=%4d, f=%4d, b=%4d, h=%-10p, t=%p", 3, 3, 3, cfile_1st, cfile_3rd);                                                                             -                       
     get      v20  review the list                      LIST_unit             "files"        , NULL                                                   s_equal     [[ CUSTOM ]]                                                            -                       
     exec     v20  list the lines                       LIST_list                                                                                     i_equal     0                                                                       -                       

   COND       v20  create and link fourth                                       ----------------------------------------------------------------------  ----------  ----------------------------------------------------------------------  -  -------------------- 
     exec     v20  add a new file                       CFILE_create          LINKED                                                                  p_exists    0                                                                       -                       
     code     v20  save pointer                         cfile_4th = yUNIT_p_rc;                                                                                                                                                                 -                       
     get      v20  review the counts                    LIST_unit             "counters"     , NULL                                                   s_equal     LIST counters    : file    4m,    4n;  line     0m,     0n              -                       
     code     v20  create a custom expect string        sprintf  (CUSTOM, "LIST file list   : n=%4d, f=%4d, b=%4d, h=%-10p, t=%p", 4, 4, 4, cfile_1st, cfile_4th);                                                                             -                       
     get      v20  review the list                      LIST_unit             "files"        , NULL                                                   s_equal     [[ CUSTOM ]]                                                            -                       
     exec     v20  list the lines                       LIST_list                                                                                     i_equal     0                                                                       -                       

   COND       v20  unlink and delete the third (head and tail stay same)        ----------------------------------------------------------------------  ----------  ----------------------------------------------------------------------  -  -------------------- 
     exec     v20  unlink the file                      CFILE_unlink          cfile_3rd                                                               i_equal     0                                                                       -                       
     exec     v20  add a new file                       CFILE_delete          cfile_3rd                                                               p_null      0                                                                       -                       
     code     v20  save pointer                         cfile_3rd = yUNIT_p_rc;                                                                                                                                                                 -                       
     get      v20  review the counts                    LIST_unit             "counters"     , NULL                                                   s_equal     LIST counters    : file    3m,    3n;  line     0m,     0n              -                       
     code     v20  create a custom expect string        sprintf  (CUSTOM, "LIST file list   : n=%4d, f=%4d, b=%4d, h=%-10p, t=%p", 3, 3, 3, cfile_1st, cfile_4th);                                                                             -                       
     get      v20  review the list                      LIST_unit             "files"        , NULL                                                   s_equal     [[ CUSTOM ]]                                                            -                       
     exec     v20  list the lines                       LIST_list                                                                                     i_equal     0                                                                       -                       

   COND       v20  unlink and delete the tail (good check)                      ----------------------------------------------------------------------  ----------  ----------------------------------------------------------------------  -  -------------------- 
     exec     v20  unlink the file                      CFILE_unlink          cfile_4th                                                               i_equal     0                                                                       -                       
     exec     v20  add a new file                       CFILE_delete          cfile_4th                                                               p_null      0                                                                       -                       
     code     v20  save pointer                         cfile_4th = yUNIT_p_rc;                                                                                                                                                                 -                       
     get      v20  review the counts                    LIST_unit             "counters"     , NULL                                                   s_equal     LIST counters    : file    2m,    2n;  line     0m,     0n              -                       
     code     v20  create a custom expect string        sprintf  (CUSTOM, "LIST file list   : n=%4d, f=%4d, b=%4d, h=%-10p, t=%p", 2, 2, 2, cfile_1st, cfile_2nd);                                                                             -                       
     get      v20  review the list                      LIST_unit             "files"        , NULL                                                   s_equal     [[ CUSTOM ]]                                                            -                       
     exec     v20  list the lines                       LIST_list                                                                                     i_equal     0                                                                       -                       

   COND       v20  unlink and delete the head (also a good check)               ----------------------------------------------------------------------  ----------  ----------------------------------------------------------------------  -  -------------------- 
     exec     v20  unlink the file                      CFILE_unlink          cfile_1st                                                               i_equal     0                                                                       -                       
     exec     v20  add a new file                       CFILE_delete          cfile_1st                                                               p_null      0                                                                       -                       
     code     v20  save pointer                         cfile_1st = yUNIT_p_rc;                                                                                                                                                                 -                       
     get      v20  review the counts                    LIST_unit             "counters"     , NULL                                                   s_equal     LIST counters    : file    1m,    1n;  line     0m,     0n              -                       
     code     v20  create a custom expect string        sprintf  (CUSTOM, "LIST file list   : n=%4d, f=%4d, b=%4d, h=%-10p, t=%p", 1, 1, 1, cfile_2nd, cfile_2nd);                                                                             -                       
     get      v20  review the list                      LIST_unit             "files"        , NULL                                                   s_equal     [[ CUSTOM ]]                                                            -                       
     exec     v20  list the lines                       LIST_list                                                                                     i_equal     0                                                                       -                       

   COND       v20  create and link another                                      ----------------------------------------------------------------------  ----------  ----------------------------------------------------------------------  -  -------------------- 
     exec     v20  add a new file                       CFILE_create          LINKED                                                                  p_exists    0                                                                       -                       
     code     v20  save pointer                         cfile_1st = yUNIT_p_rc;                                                                                                                                                                 -                       
     get      v20  review the counts                    LIST_unit             "counters"     , NULL                                                   s_equal     LIST counters    : file    2m,    2n;  line     0m,     0n              -                       
     code     v20  create a custom expect string        sprintf  (CUSTOM, "LIST file list   : n=%4d, f=%4d, b=%4d, h=%-10p, t=%p", 2, 2, 2, cfile_2nd, cfile_1st);                                                                             -                       
     get      v20  review the list                      LIST_unit             "files"        , NULL                                                   s_equal     [[ CUSTOM ]]                                                            -                       
     exec     v20  list the lines                       LIST_list                                                                                     i_equal     0                                                                       -                       

   COND       v20  purge the cron system                                        ----------------------------------------------------------------------  ----------  ----------------------------------------------------------------------  -  -------------------- 
     exec     v20  retire all files                     BASE_purge                                                                                    i_equal     0                                                                       -                       
     get      v20  review the counts                    LIST_unit             "counters"     , NULL                                                   s_equal     LIST counters    : file    0m,    0n;  line     0m,     0n              -                       
     code     v20  create a custom file expect string   sprintf  (CUSTOM, "LIST file list   : n=%4d, f=%4d, b=%4d, h=%-10p, t=%p", 0, 0, 0, NULL     , NULL     );                                                                              -                       
     get      v20  review the file list                 LIST_unit             "files"        , NULL                                                   s_equal     [[ CUSTOM ]]                                                            -                       




#23456789012  123  123456789-123456789-123456789-12345  123456789-123456789-  123456789-123456789-123456789-123456789-123456789-123456789-123456789-  123456789-  123456789-123456789-123456789-123456789-123456789-123456789-123456789-  -  123456789-123456789- 
#==(verb)===  ver  ===========(description)===========  =====(function)=====  ========================(arguments)===================================  ==(test)==  ==========================(results)===================================  t  ========(var)======= 
SCRP          v20  create and retire cronlines directly                         CLINE_create, CLINE_link, CLINE_unlink, CLINE_delete, CFILE_purge       ----------  ----------------------------------------------------------------------  -  -------------------- 

   COND       v20  prepare for run                                              ----------------------------------------------------------------------  ----------  ----------------------------------------------------------------------  -  -------------------- 
     exec     v20  initialize the logger                PROG_testquiet                                                                                i_equal     0                                                                       -                       
     code     v20  create a cronfile pointer            tCFILE *cfile_1st = NULL;                                                                                                                                                               -                       
     code     v20  create a cronfile pointer            tCFILE *cfile_2nd = NULL;                                                                                                                                                               -                       
     code     v20  create a cronfile pointer            tCLINE *cline_1st = NULL;                                                                                                                                                               -                       
     code     v20  create a cronfile pointer            tCLINE *cline_2nd = NULL;                                                                                                                                                               -                       
     code     v20  create a cronfile pointer            tCLINE *cline_3rd = NULL;                                                                                                                                                               -                       
     code     v20  create a cronfile pointer            tCLINE *cline_4th = NULL;                                                                                                                                                               -                       
     code     v20  create a cronfile pointer            tCLINE *cline_5th = NULL;                                                                                                                                                               -                       

   COND       v20  review initial cronfile list                                 ----------------------------------------------------------------------  ----------  ----------------------------------------------------------------------  -  -------------------- 
     get      v20  review the counters                  LIST_unit             "counters"     , NULL                                                   s_equal     LIST counters    : file    0m,    0n;  line     0m,     0n              -                       
     get      v20  review the file list                 LIST_unit             "files"        , NULL                                                   s_equal     LIST file list   : n=   0, f=   0, b=   0, h=(nil)     , t=(nil)        -                       
     get      v20  review the 1st list                  LIST_unit             "lines"        , cfile_1st                                              s_equal     LIST (nil)       : n=   0, f=   0, b=   0, h=(nil)     , t=(nil)        -                       
     get      v20  review the 2nd list                  LIST_unit             "lines"        , cfile_2nd                                              s_equal     LIST (nil)       : n=   0, f=   0, b=   0, h=(nil)     , t=(nil)        -                       
     exec     v20  list the lines                       LIST_list                                                                                     i_equal     0                                                                       -                       
     exec     v20  evaluate cron shape                  LIST_unit             "shape"        , NULL                                                   s_equal     LIST shape (  0) : (empty)                                              -                       

   COND       v20  create first file                                            ----------------------------------------------------------------------  ----------  ----------------------------------------------------------------------  -  -------------------- 
     exec     v20  add a new file                       CFILE_create          LINKED                                                                  p_exists    0                                                                       -                       
     code     v20  save pointer                         cfile_1st = yUNIT_p_rc;                                                                                                                                                                 -                       
     get      v20  review the counters                  LIST_unit             "counters"     , NULL                                                   s_equal     LIST counters    : file    1m,    1n;  line     0m,     0n              -                       
     code     v20  create a custom file expect string   sprintf  (CUSTOM, "LIST file list   : n=%4d, f=%4d, b=%4d, h=%-10p, t=%p", 1, 1, 1, cfile_1st, cfile_1st);                                                                              -                       
     get      v20  review the file list                 LIST_unit             "files"        , NULL                                                   s_equal     [[ CUSTOM ]]                                                            -                       
     code     v20  create a custom list expect string   sprintf  (CUSTOM, "LIST %-10p  : n=%4d, f=%4d, b=%4d, h=%-10p, t=%p", cfile_1st, 0, 0, 0, NULL     , NULL     );                                                                        -                       
     get      v20  review the 1st list                  LIST_unit             "lines"        , cfile_1st                                              s_equal     [[ CUSTOM ]]                                                            -                       
     code     v20  create a custom list expect string   sprintf  (CUSTOM, "LIST %-10p  : n=%4d, f=%4d, b=%4d, h=%-10p, t=%p", cfile_2nd, 0, 0, 0, NULL     , NULL     );                                                                        -                       
     get      v20  review the 2nd list                  LIST_unit             "lines"        , cfile_2nd                                              s_equal     [[ CUSTOM ]]                                                            -                       
     exec     v20  list the lines                       LIST_list                                                                                     i_equal     0                                                                       -                       
     exec     v20  evaluate cron shape                  LIST_unit             "shape"        , NULL                                                   s_equal     LIST shape (  1) : F                                                    -                       

   COND       v20  create first line                                            ----------------------------------------------------------------------  ----------  ----------------------------------------------------------------------  -  -------------------- 
     exec     v20  add a new line                       CLINE_create          NULL                                                                    p_exists    0                                                                       -                       
     code     v20  save pointer                         cline_1st = yUNIT_p_rc;                                                                                                                                                                 -                       
     get      v20  review the counters                  LIST_unit             "counters"     , NULL                                                   s_equal     LIST counters    : file    1m,    1n;  line     1m,     0n              -                       
     code     v20  create a custom file expect string   sprintf  (CUSTOM, "LIST file list   : n=%4d, f=%4d, b=%4d, h=%-10p, t=%p", 1, 1, 1, cfile_1st, cfile_1st);                                                                              -                       
     get      v20  review the file list                 LIST_unit             "files"        , NULL                                                   s_equal     [[ CUSTOM ]]                                                            -                       
     code     v20  create a custom list expect string   sprintf  (CUSTOM, "LIST %-10p  : n=%4d, f=%4d, b=%4d, h=%-10p, t=%p", cfile_1st, 0, 0, 0, NULL     , NULL     );                                                                        -                       
     get      v20  review the 1st list                  LIST_unit             "lines"        , cfile_1st                                              s_equal     [[ CUSTOM ]]                                                            -                       
     code     v20  create a custom list expect string   sprintf  (CUSTOM, "LIST %-10p  : n=%4d, f=%4d, b=%4d, h=%-10p, t=%p", cfile_2nd, 0, 0, 0, NULL     , NULL     );                                                                        -                       
     get      v20  review the 2nd list                  LIST_unit             "lines"        , cfile_2nd                                              s_equal     [[ CUSTOM ]]                                                            -                       
     exec     v20  list the lines                       LIST_list                                                                                     i_equal     0                                                                       -                       
     exec     v20  evaluate cron shape                  LIST_unit             "shape"        , NULL                                                   s_equal     LIST shape (  1) : F                                                    -                       

   COND       v20  link to a file                                               ----------------------------------------------------------------------  ----------  ----------------------------------------------------------------------  -  -------------------- 
     exec     v20  link to a file                       CLINE_link            cfile_1st, cline_1st                                                    i_equal     0                                                                       -                       
     code     v20  save pointer                         cline_1st = yUNIT_p_rc;                                                                                                                                                                 -                       
     get      v20  review the counters                  LIST_unit             "counters"     , NULL                                                   s_equal     LIST counters    : file    1m,    1n;  line     1m,     1n              -                       
     code     v20  create a custom file expect string   sprintf  (CUSTOM, "LIST file list   : n=%4d, f=%4d, b=%4d, h=%-10p, t=%p", 1, 1, 1, cfile_1st, cfile_1st);                                                                              -                       
     get      v20  review the file list                 LIST_unit             "files"        , NULL                                                   s_equal     [[ CUSTOM ]]                                                            -                       
     code     v20  create a custom list expect string   sprintf  (CUSTOM, "LIST %-10p  : n=%4d, f=%4d, b=%4d, h=%-10p, t=%p", cfile_1st, 1, 1, 1, cline_1st, cline_1st);                                                                        -                       
     get      v20  review the 1st list                  LIST_unit             "lines"        , cfile_1st                                              s_equal     [[ CUSTOM ]]                                                            -                       
     code     v20  create a custom list expect string   sprintf  (CUSTOM, "LIST %-10p  : n=%4d, f=%4d, b=%4d, h=%-10p, t=%p", cfile_2nd, 0, 0, 0, NULL     , NULL     );                                                                        -                       
     get      v20  review the 2nd list                  LIST_unit             "lines"        , cfile_2nd                                              s_equal     [[ CUSTOM ]]                                                            -                       
     exec     v20  list the lines                       LIST_list                                                                                     i_equal     0                                                                       -                       
     exec     v20  evaluate cron shape                  LIST_unit             "shape"        , NULL                                                   s_equal     LIST shape (  2) : F_                                                   -                       

   COND       v20  link to the file, again (attempt double link)                ----------------------------------------------------------------------  ----------  ----------------------------------------------------------------------  -  -------------------- 
     exec     v20  link to a file                       CLINE_link            cfile_1st, cline_1st                                                    i_not       0                                                                       -                       
     code     v20  save pointer                         cline_1st = yUNIT_p_rc;                                                                                                                                                                 -                       
     get      v20  review the counters                  LIST_unit             "counters"     , NULL                                                   s_equal     LIST counters    : file    1m,    1n;  line     1m,     1n              -                       
     code     v20  create a custom file expect string   sprintf  (CUSTOM, "LIST file list   : n=%4d, f=%4d, b=%4d, h=%-10p, t=%p", 1, 1, 1, cfile_1st, cfile_1st);                                                                              -                       
     get      v20  review the file list                 LIST_unit             "files"        , NULL                                                   s_equal     [[ CUSTOM ]]                                                            -                       
     code     v20  create a custom list expect string   sprintf  (CUSTOM, "LIST %-10p  : n=%4d, f=%4d, b=%4d, h=%-10p, t=%p", cfile_1st, 1, 1, 1, cline_1st, cline_1st);                                                                        -                       
     get      v20  review the 1st list                  LIST_unit             "lines"        , cfile_1st                                              s_equal     [[ CUSTOM ]]                                                            -                       
     code     v20  create a custom list expect string   sprintf  (CUSTOM, "LIST %-10p  : n=%4d, f=%4d, b=%4d, h=%-10p, t=%p", cfile_2nd, 0, 0, 0, NULL     , NULL     );                                                                        -                       
     get      v20  review the 2nd list                  LIST_unit             "lines"        , cfile_2nd                                              s_equal     [[ CUSTOM ]]                                                            -                       
     exec     v20  list the lines                       LIST_list                                                                                     i_equal     0                                                                       -                       
     exec     v20  evaluate cron shape                  LIST_unit             "shape"        , NULL                                                   s_equal     LIST shape (  2) : F_                                                   -                       

   COND       v20  unlink from file                                             ----------------------------------------------------------------------  ----------  ----------------------------------------------------------------------  -  -------------------- 
     exec     v20  unlink the line                      CLINE_unlink          cline_1st                                                               i_equal     0                                                                       -                       
     get      v20  review the counters                  LIST_unit             "counters"     , NULL                                                   s_equal     LIST counters    : file    1m,    1n;  line     1m,     0n              -                       
     code     v20  create a custom file expect string   sprintf  (CUSTOM, "LIST file list   : n=%4d, f=%4d, b=%4d, h=%-10p, t=%p", 1, 1, 1, cfile_1st, cfile_1st);                                                                              -                       
     get      v20  review the file list                 LIST_unit             "files"        , NULL                                                   s_equal     [[ CUSTOM ]]                                                            -                       
     code     v20  create a custom list expect string   sprintf  (CUSTOM, "LIST %-10p  : n=%4d, f=%4d, b=%4d, h=%-10p, t=%p", cfile_1st, 0, 0, 0, NULL     , NULL     );                                                                        -                       
     get      v20  review the 1st list                  LIST_unit             "lines"        , cfile_1st                                              s_equal     [[ CUSTOM ]]                                                            -                       
     code     v20  create a custom list expect string   sprintf  (CUSTOM, "LIST %-10p  : n=%4d, f=%4d, b=%4d, h=%-10p, t=%p", cfile_2nd, 0, 0, 0, NULL     , NULL     );                                                                        -                       
     get      v20  review the 2nd list                  LIST_unit             "lines"        , cfile_2nd                                              s_equal     [[ CUSTOM ]]                                                            -                       
     exec     v20  list the lines                       LIST_list                                                                                     i_equal     0                                                                       -                       
     exec     v20  evaluate cron shape                  LIST_unit             "shape"        , NULL                                                   s_equal     LIST shape (  1) : F                                                    -                       

   COND       v20  unlink from file, again                                      ----------------------------------------------------------------------  ----------  ----------------------------------------------------------------------  -  -------------------- 
     exec     v20  unlink the line                      CLINE_unlink          cline_1st                                                               i_not       0                                                                       -                       
     get      v20  review the counters                  LIST_unit             "counters"     , NULL                                                   s_equal     LIST counters    : file    1m,    1n;  line     1m,     0n              -                       
     code     v20  create a custom file expect string   sprintf  (CUSTOM, "LIST file list   : n=%4d, f=%4d, b=%4d, h=%-10p, t=%p", 1, 1, 1, cfile_1st, cfile_1st);                                                                              -                       
     get      v20  review the file list                 LIST_unit             "files"        , NULL                                                   s_equal     [[ CUSTOM ]]                                                            -                       
     code     v20  create a custom list expect string   sprintf  (CUSTOM, "LIST %-10p  : n=%4d, f=%4d, b=%4d, h=%-10p, t=%p", cfile_1st, 0, 0, 0, NULL     , NULL     );                                                                        -                       
     get      v20  review the 1st list                  LIST_unit             "lines"        , cfile_1st                                              s_equal     [[ CUSTOM ]]                                                            -                       
     code     v20  create a custom list expect string   sprintf  (CUSTOM, "LIST %-10p  : n=%4d, f=%4d, b=%4d, h=%-10p, t=%p", cfile_2nd, 0, 0, 0, NULL     , NULL     );                                                                        -                       
     get      v20  review the 2nd list                  LIST_unit             "lines"        , cfile_2nd                                              s_equal     [[ CUSTOM ]]                                                            -                       
     exec     v20  list the lines                       LIST_list                                                                                     i_equal     0                                                                       -                       
     exec     v20  evaluate cron shape                  LIST_unit             "shape"        , NULL                                                   s_equal     LIST shape (  1) : F                                                    -                       

   COND       v20  delete the first                                             ----------------------------------------------------------------------  ----------  ----------------------------------------------------------------------  -  -------------------- 
     exec     v20  delete the line                      CLINE_delete          cline_1st                                                               p_null      0                                                                       -                       
     code     v20  save pointer                         cline_1st = yUNIT_p_rc;                                                                                                                                                                 -                       
     get      v20  review the counters                  LIST_unit             "counters"     , NULL                                                   s_equal     LIST counters    : file    1m,    1n;  line     0m,     0n              -                       
     code     v20  create a custom file expect string   sprintf  (CUSTOM, "LIST file list   : n=%4d, f=%4d, b=%4d, h=%-10p, t=%p", 1, 1, 1, cfile_1st, cfile_1st);                                                                              -                       
     get      v20  review the file list                 LIST_unit             "files"        , NULL                                                   s_equal     [[ CUSTOM ]]                                                            -                       
     code     v20  create a custom list expect string   sprintf  (CUSTOM, "LIST %-10p  : n=%4d, f=%4d, b=%4d, h=%-10p, t=%p", cfile_1st, 0, 0, 0, NULL     , NULL     );                                                                        -                       
     get      v20  review the 1st list                  LIST_unit             "lines"        , cfile_1st                                              s_equal     [[ CUSTOM ]]                                                            -                       
     code     v20  create a custom list expect string   sprintf  (CUSTOM, "LIST %-10p  : n=%4d, f=%4d, b=%4d, h=%-10p, t=%p", cfile_2nd, 0, 0, 0, NULL     , NULL     );                                                                        -                       
     get      v20  review the 2nd list                  LIST_unit             "lines"        , cfile_2nd                                              s_equal     [[ CUSTOM ]]                                                            -                       
     exec     v20  list the lines                       LIST_list                                                                                     i_equal     0                                                                       -                       
     exec     v20  evaluate cron shape                  LIST_unit             "shape"        , NULL                                                   s_equal     LIST shape (  1) : F                                                    -                       

   COND       v20  delete the first, again                                      ----------------------------------------------------------------------  ----------  ----------------------------------------------------------------------  -  -------------------- 
     exec     v20  delete the line                      CLINE_delete          cline_1st                                                               p_null      0                                                                       -                       
     get      v20  review the counters                  LIST_unit             "counters"     , NULL                                                   s_equal     LIST counters    : file    1m,    1n;  line     0m,     0n              -                       
     code     v20  create a custom file expect string   sprintf  (CUSTOM, "LIST file list   : n=%4d, f=%4d, b=%4d, h=%-10p, t=%p", 1, 1, 1, cfile_1st, cfile_1st);                                                                              -                       
     get      v20  review the file list                 LIST_unit             "files"        , NULL                                                   s_equal     [[ CUSTOM ]]                                                            -                       
     code     v20  create a custom list expect string   sprintf  (CUSTOM, "LIST %-10p  : n=%4d, f=%4d, b=%4d, h=%-10p, t=%p", cfile_1st, 0, 0, 0, NULL     , NULL     );                                                                        -                       
     get      v20  review the 1st list                  LIST_unit             "lines"        , cfile_1st                                              s_equal     [[ CUSTOM ]]                                                            -                       
     code     v20  create a custom list expect string   sprintf  (CUSTOM, "LIST %-10p  : n=%4d, f=%4d, b=%4d, h=%-10p, t=%p", cfile_2nd, 0, 0, 0, NULL     , NULL     );                                                                        -                       
     get      v20  review the 2nd list                  LIST_unit             "lines"        , cfile_2nd                                              s_equal     [[ CUSTOM ]]                                                            -                       
     exec     v20  list the lines                       LIST_list                                                                                     i_equal     0                                                                       -                       
     exec     v20  evaluate cron shape                  LIST_unit             "shape"        , NULL                                                   s_equal     LIST shape (  1) : F                                                    -                       

   COND       v20  create and link a line                                       ----------------------------------------------------------------------  ----------  ----------------------------------------------------------------------  -  -------------------- 
     exec     v20  add a new line                       CLINE_create          NULL                                                                    p_exists    0                                                                       -                       
     code     v20  save pointer                         cline_1st = yUNIT_p_rc;                                                                                                                                                                 -                       
     exec     v20  link to a file                       CLINE_link            cfile_1st, cline_1st                                                    i_equal     0                                                                       -                       
     get      v20  review the counters                  LIST_unit             "counters"     , NULL                                                   s_equal     LIST counters    : file    1m,    1n;  line     1m,     1n              -                       
     code     v20  create a custom file expect string   sprintf  (CUSTOM, "LIST file list   : n=%4d, f=%4d, b=%4d, h=%-10p, t=%p", 1, 1, 1, cfile_1st, cfile_1st);                                                                              -                       
     get      v20  review the file list                 LIST_unit             "files"        , NULL                                                   s_equal     [[ CUSTOM ]]                                                            -                       
     code     v20  create a custom list expect string   sprintf  (CUSTOM, "LIST %-10p  : n=%4d, f=%4d, b=%4d, h=%-10p, t=%p", cfile_1st, 1, 1, 1, cline_1st, cline_1st);                                                                        -                       
     get      v20  review the 1st list                  LIST_unit             "lines"        , cfile_1st                                              s_equal     [[ CUSTOM ]]                                                            -                       
     code     v20  create a custom list expect string   sprintf  (CUSTOM, "LIST %-10p  : n=%4d, f=%4d, b=%4d, h=%-10p, t=%p", cfile_2nd, 0, 0, 0, NULL     , NULL     );                                                                        -                       
     get      v20  review the 2nd list                  LIST_unit             "lines"        , cfile_2nd                                              s_equal     [[ CUSTOM ]]                                                            -                       
     exec     v20  list the lines                       LIST_list                                                                                     i_equal     0                                                                       -                       
     exec     v20  evaluate cron shape                  LIST_unit             "shape"        , NULL                                                   s_equal     LIST shape (  2) : F_                                                   -                       

   COND       v20  create and link another                                      ----------------------------------------------------------------------  ----------  ----------------------------------------------------------------------  -  -------------------- 
     exec     v20  add a new line                       CLINE_create          NULL                                                                    p_exists    0                                                                       -                       
     code     v20  save pointer                         cline_2nd = yUNIT_p_rc;                                                                                                                                                                 -                       
     exec     v20  link to a file                       CLINE_link            cfile_1st, cline_2nd                                                    i_equal     0                                                                       -                       
     get      v20  review the counters                  LIST_unit             "counters"     , NULL                                                   s_equal     LIST counters    : file    1m,    1n;  line     2m,     2n              -                       
     code     v20  create a custom file expect string   sprintf  (CUSTOM, "LIST file list   : n=%4d, f=%4d, b=%4d, h=%-10p, t=%p", 1, 1, 1, cfile_1st, cfile_1st);                                                                             -                       
     get      v20  review the file list                 LIST_unit             "files"        , NULL                                                   s_equal     [[ CUSTOM ]]                                                            -                       
     code     v20  create a custom list expect string   sprintf  (CUSTOM, "LIST %-10p  : n=%4d, f=%4d, b=%4d, h=%-10p, t=%p", cfile_1st, 2, 2, 2, cline_1st, cline_2nd);                                                                        -                       
     get      v20  review the 1st list                  LIST_unit             "lines"        , cfile_1st                                              s_equal     [[ CUSTOM ]]                                                            -                       
     code     v20  create a custom list expect string   sprintf  (CUSTOM, "LIST %-10p  : n=%4d, f=%4d, b=%4d, h=%-10p, t=%p", cfile_2nd, 0, 0, 0, NULL     , NULL     );                                                                        -                       
     get      v20  review the 2nd list                  LIST_unit             "lines"        , cfile_2nd                                              s_equal     [[ CUSTOM ]]                                                            -                       
     exec     v20  list the lines                       LIST_list                                                                                     i_equal     0                                                                       -                       
     exec     v20  evaluate cron shape                  LIST_unit             "shape"        , NULL                                                   s_equal     LIST shape (  3) : F__                                                  -                       

   COND       v20  create and link (auto-link)                                  ----------------------------------------------------------------------  ----------  ----------------------------------------------------------------------  -  -------------------- 
     exec     v20  add a new line                       CLINE_create          cfile_1st                                                               p_exists    0                                                                       -                       
     code     v20  save pointer                         cline_3rd = yUNIT_p_rc;                                                                                                                                                                 -                       
     get      v20  review the counters                  LIST_unit             "counters"     , NULL                                                   s_equal     LIST counters    : file    1m,    1n;  line     3m,     3n              -                       
     code     v20  create a custom file expect string   sprintf  (CUSTOM, "LIST file list   : n=%4d, f=%4d, b=%4d, h=%-10p, t=%p", 1, 1, 1, cfile_1st, cfile_1st);                                                                             -                       
     get      v20  review the file list                 LIST_unit             "files"        , NULL                                                   s_equal     [[ CUSTOM ]]                                                            -                       
     code     v20  create a custom list expect string   sprintf  (CUSTOM, "LIST %-10p  : n=%4d, f=%4d, b=%4d, h=%-10p, t=%p", cfile_1st, 3, 3, 3, cline_1st, cline_3rd);                                                                        -                       
     get      v20  review the 1st list                  LIST_unit             "lines"        , cfile_1st                                              s_equal     [[ CUSTOM ]]                                                            -                       
     code     v20  create a custom list expect string   sprintf  (CUSTOM, "LIST %-10p  : n=%4d, f=%4d, b=%4d, h=%-10p, t=%p", cfile_2nd, 0, 0, 0, NULL     , NULL     );                                                                        -                       
     get      v20  review the 2nd list                  LIST_unit             "lines"        , cfile_2nd                                              s_equal     [[ CUSTOM ]]                                                            -                       
     exec     v20  list the lines                       LIST_list                                                                                     i_equal     0                                                                       -                       
     exec     v20  evaluate cron shape                  LIST_unit             "shape"        , NULL                                                   s_equal     LIST shape (  4) : F___                                                 -                       

   COND       v20  create second file                                           ----------------------------------------------------------------------  ----------  ----------------------------------------------------------------------  -  -------------------- 
     exec     v20  add a new file                       CFILE_create          LINKED                                                                  p_exists    0                                                                       -                       
     code     v20  save pointer                         cfile_2nd = yUNIT_p_rc;                                                                                                                                                                 -                       
     get      v20  review the counters                  LIST_unit             "counters"     , NULL                                                   s_equal     LIST counters    : file    2m,    2n;  line     3m,     3n              -                       
     code     v20  create a custom file expect string   sprintf  (CUSTOM, "LIST file list   : n=%4d, f=%4d, b=%4d, h=%-10p, t=%p", 2, 2, 2, cfile_1st, cfile_2nd);                                                                              -                       
     get      v20  review the file list                 LIST_unit             "files"        , NULL                                                   s_equal     [[ CUSTOM ]]                                                            -                       
     code     v20  create a custom list expect string   sprintf  (CUSTOM, "LIST %-10p  : n=%4d, f=%4d, b=%4d, h=%-10p, t=%p", cfile_1st, 3, 3, 3, cline_1st, cline_3rd);                                                                        -                       
     get      v20  review the 1st list                  LIST_unit             "lines"        , cfile_1st                                              s_equal     [[ CUSTOM ]]                                                            -                       
     code     v20  create a custom list expect string   sprintf  (CUSTOM, "LIST %-10p  : n=%4d, f=%4d, b=%4d, h=%-10p, t=%p", cfile_2nd, 0, 0, 0, NULL     , NULL     );                                                                        -                       
     get      v20  review the 2nd list                  LIST_unit             "lines"        , cfile_2nd                                              s_equal     [[ CUSTOM ]]                                                            -                       
     exec     v20  list the lines                       LIST_list                                                                                     i_equal     0                                                                       -                       
     exec     v20  evaluate cron shape                  LIST_unit             "shape"        , NULL                                                   s_equal     LIST shape (  5) : F___F                                                -                       

   COND       v20  create and link to second file                               ----------------------------------------------------------------------  ----------  ----------------------------------------------------------------------  -  -------------------- 
     exec     v20  add a new line                       CLINE_create          cfile_2nd                                                               p_exists    0                                                                       -                       
     code     v20  save pointer                         cline_4th = yUNIT_p_rc;                                                                                                                                                                 -                       
     get      v20  review the counters                  LIST_unit             "counters"     , NULL                                                   s_equal     LIST counters    : file    2m,    2n;  line     4m,     4n              -                       
     code     v20  create a custom file expect string   sprintf  (CUSTOM, "LIST file list   : n=%4d, f=%4d, b=%4d, h=%-10p, t=%p", 2, 2, 2, cfile_1st, cfile_2nd);                                                                              -                       
     get      v20  review the file list                 LIST_unit             "files"        , NULL                                                   s_equal     [[ CUSTOM ]]                                                            -                       
     code     v20  create a custom list expect string   sprintf  (CUSTOM, "LIST %-10p  : n=%4d, f=%4d, b=%4d, h=%-10p, t=%p", cfile_1st, 3, 3, 3, cline_1st, cline_3rd);                                                                        -                       
     get      v20  review the 1st list                  LIST_unit             "lines"        , cfile_1st                                              s_equal     [[ CUSTOM ]]                                                            -                       
     code     v20  create a custom list expect string   sprintf  (CUSTOM, "LIST %-10p  : n=%4d, f=%4d, b=%4d, h=%-10p, t=%p", cfile_2nd, 1, 1, 1, cline_4th, cline_4th);                                                                        -                       
     get      v20  review the 2nd list                  LIST_unit             "lines"        , cfile_2nd                                              s_equal     [[ CUSTOM ]]                                                            -                       
     exec     v20  list the lines                       LIST_list                                                                                     i_equal     0                                                                       -                       
     exec     v20  evaluate cron shape                  LIST_unit             "shape"        , NULL                                                   s_equal     LIST shape (  6) : F___F_                                               -                       

   COND       v20  create and link to first file again                          ----------------------------------------------------------------------  ----------  ----------------------------------------------------------------------  -  -------------------- 
     exec     v20  add a new line                       CLINE_create          cfile_1st                                                               p_exists    0                                                                       -                       
     code     v20  save pointer                         cline_5th = yUNIT_p_rc;                                                                                                                                                                 -                       
     get      v20  review the counters                  LIST_unit             "counters"     , NULL                                                   s_equal     LIST counters    : file    2m,    2n;  line     5m,     5n              -                       
     code     v20  create a custom file expect string   sprintf  (CUSTOM, "LIST file list   : n=%4d, f=%4d, b=%4d, h=%-10p, t=%p", 2, 2, 2, cfile_1st, cfile_2nd);                                                                              -                       
     get      v20  review the file list                 LIST_unit             "files"        , NULL                                                   s_equal     [[ CUSTOM ]]                                                            -                       
     code     v20  create a custom list expect string   sprintf  (CUSTOM, "LIST %-10p  : n=%4d, f=%4d, b=%4d, h=%-10p, t=%p", cfile_1st, 4, 4, 4, cline_1st, cline_5th);                                                                        -                       
     get      v20  review the 1st list                  LIST_unit             "lines"        , cfile_1st                                              s_equal     [[ CUSTOM ]]                                                            -                       
     code     v20  create a custom list expect string   sprintf  (CUSTOM, "LIST %-10p  : n=%4d, f=%4d, b=%4d, h=%-10p, t=%p", cfile_2nd, 1, 1, 1, cline_4th, cline_4th);                                                                        -                       
     get      v20  review the 2nd list                  LIST_unit             "lines"        , cfile_2nd                                              s_equal     [[ CUSTOM ]]                                                            -                       
     exec     v20  list the lines                       LIST_list                                                                                     i_equal     0                                                                       -                       
     exec     v20  evaluate cron shape                  LIST_unit             "shape"        , NULL                                                   s_equal     LIST shape (  7) : F____F_                                              -                       

   COND       v20  try to delete a file with lines (no change)                  ----------------------------------------------------------------------  ----------  ----------------------------------------------------------------------  -  -------------------- 
     exec     v20  delete the file                      CFILE_delete          cfile_1st                                                               p_exists    0                                                                       -                       
     code     v20  save pointer                         cfile_1st = yUNIT_p_rc;                                                                                                                                                                 -                       
     get      v20  review the counters                  LIST_unit             "counters"     , NULL                                                   s_equal     LIST counters    : file    2m,    2n;  line     5m,     5n              -                       
     code     v20  create a custom file expect string   sprintf  (CUSTOM, "LIST file list   : n=%4d, f=%4d, b=%4d, h=%-10p, t=%p", 2, 2, 2, cfile_1st, cfile_2nd);                                                                              -                       
     get      v20  review the file list                 LIST_unit             "files"        , NULL                                                   s_equal     [[ CUSTOM ]]                                                            -                       
     code     v20  create a custom list expect string   sprintf  (CUSTOM, "LIST %-10p  : n=%4d, f=%4d, b=%4d, h=%-10p, t=%p", cfile_1st, 4, 4, 4, cline_1st, cline_5th);                                                                        -                       
     get      v20  review the 1st list                  LIST_unit             "lines"        , cfile_1st                                              s_equal     [[ CUSTOM ]]                                                            -                       
     code     v20  create a custom list expect string   sprintf  (CUSTOM, "LIST %-10p  : n=%4d, f=%4d, b=%4d, h=%-10p, t=%p", cfile_2nd, 1, 1, 1, cline_4th, cline_4th);                                                                        -                       
     get      v20  review the 2nd list                  LIST_unit             "lines"        , cfile_2nd                                              s_equal     [[ CUSTOM ]]                                                            -                       
     exec     v20  list the lines                       LIST_list                                                                                     i_equal     0                                                                       -                       
     exec     v20  evaluate cron shape                  LIST_unit             "shape"        , NULL                                                   s_equal     LIST shape (  7) : F____F_                                              -                       

   COND       v20  unlink a middle line                                         ----------------------------------------------------------------------  ----------  ----------------------------------------------------------------------  -  -------------------- 
     exec     v20  unlink the line                      CLINE_unlink          cline_3rd                                                               i_equal     0                                                                       -                       
     get      v20  review the counters                  LIST_unit             "counters"     , NULL                                                   s_equal     LIST counters    : file    2m,    2n;  line     5m,     4n              -                       
     code     v20  create a custom file expect string   sprintf  (CUSTOM, "LIST file list   : n=%4d, f=%4d, b=%4d, h=%-10p, t=%p", 2, 2, 2, cfile_1st, cfile_2nd);                                                                              -                       
     get      v20  review the file list                 LIST_unit             "files"        , NULL                                                   s_equal     [[ CUSTOM ]]                                                            -                       
     code     v20  create a custom list expect string   sprintf  (CUSTOM, "LIST %-10p  : n=%4d, f=%4d, b=%4d, h=%-10p, t=%p", cfile_1st, 3, 3, 3, cline_1st, cline_5th);                                                                        -                       
     get      v20  review the 1st list                  LIST_unit             "lines"        , cfile_1st                                              s_equal     [[ CUSTOM ]]                                                            -                       
     code     v20  create a custom list expect string   sprintf  (CUSTOM, "LIST %-10p  : n=%4d, f=%4d, b=%4d, h=%-10p, t=%p", cfile_2nd, 1, 1, 1, cline_4th, cline_4th);                                                                        -                       
     get      v20  review the 2nd list                  LIST_unit             "lines"        , cfile_2nd                                              s_equal     [[ CUSTOM ]]                                                            -                       
     exec     v20  list the lines                       LIST_list                                                                                     i_equal     0                                                                       -                       
     exec     v20  evaluate cron shape                  LIST_unit             "shape"        , NULL                                                   s_equal     LIST shape (  6) : F___F_                                               -                       

   COND       v20  delete the unlinked line (no change to lists)                ----------------------------------------------------------------------  ----------  ----------------------------------------------------------------------  -  -------------------- 
     exec     v20  delete the line                      CLINE_delete          cline_3rd                                                               p_null      0                                                                       -                       
     code     v20  save pointer                         cline_3rd = yUNIT_p_rc;                                                                                                                                                                 -                       
     get      v20  review the counters                  LIST_unit             "counters"     , NULL                                                   s_equal     LIST counters    : file    2m,    2n;  line     4m,     4n              -                       
     code     v20  create a custom file expect string   sprintf  (CUSTOM, "LIST file list   : n=%4d, f=%4d, b=%4d, h=%-10p, t=%p", 2, 2, 2, cfile_1st, cfile_2nd);                                                                              -                       
     get      v20  review the file list                 LIST_unit             "files"        , NULL                                                   s_equal     [[ CUSTOM ]]                                                            -                       
     code     v20  create a custom list expect string   sprintf  (CUSTOM, "LIST %-10p  : n=%4d, f=%4d, b=%4d, h=%-10p, t=%p", cfile_1st, 3, 3, 3, cline_1st, cline_5th);                                                                        -                       
     get      v20  review the 1st list                  LIST_unit             "lines"        , cfile_1st                                              s_equal     [[ CUSTOM ]]                                                            -                       
     code     v20  create a custom list expect string   sprintf  (CUSTOM, "LIST %-10p  : n=%4d, f=%4d, b=%4d, h=%-10p, t=%p", cfile_2nd, 1, 1, 1, cline_4th, cline_4th);                                                                        -                       
     get      v20  review the 2nd list                  LIST_unit             "lines"        , cfile_2nd                                              s_equal     [[ CUSTOM ]]                                                            -                       
     exec     v20  list the lines                       LIST_list                                                                                     i_equal     0                                                                       -                       
     exec     v20  evaluate cron shape                  LIST_unit             "shape"        , NULL                                                   s_equal     LIST shape (  6) : F___F_                                               -                       

   COND       v20  delete the head (great test)                                 ----------------------------------------------------------------------  ----------  ----------------------------------------------------------------------  -  -------------------- 
     exec     v20  delete the line                      CLINE_delete          cline_1st                                                               p_null      0                                                                       -                       
     code     v20  save pointer                         cline_1st = yUNIT_p_rc;                                                                                                                                                                 -                       
     get      v20  review the counters                  LIST_unit             "counters"     , NULL                                                   s_equal     LIST counters    : file    2m,    2n;  line     3m,     3n              -                       
     code     v20  create a custom file expect string   sprintf  (CUSTOM, "LIST file list   : n=%4d, f=%4d, b=%4d, h=%-10p, t=%p", 2, 2, 2, cfile_1st, cfile_2nd);                                                                              -                       
     get      v20  review the file list                 LIST_unit             "files"        , NULL                                                   s_equal     [[ CUSTOM ]]                                                            -                       
     code     v20  create a custom list expect string   sprintf  (CUSTOM, "LIST %-10p  : n=%4d, f=%4d, b=%4d, h=%-10p, t=%p", cfile_1st, 2, 2, 2, cline_2nd, cline_5th);                                                                        -                       
     get      v20  review the 1st list                  LIST_unit             "lines"        , cfile_1st                                              s_equal     [[ CUSTOM ]]                                                            -                       
     code     v20  create a custom list expect string   sprintf  (CUSTOM, "LIST %-10p  : n=%4d, f=%4d, b=%4d, h=%-10p, t=%p", cfile_2nd, 1, 1, 1, cline_4th, cline_4th);                                                                        -                       
     get      v20  review the 2nd list                  LIST_unit             "lines"        , cfile_2nd                                              s_equal     [[ CUSTOM ]]                                                            -                       
     exec     v20  list the lines                       LIST_list                                                                                     i_equal     0                                                                       -                       
     exec     v20  evaluate cron shape                  LIST_unit             "shape"        , NULL                                                   s_equal     LIST shape (  5) : F__F_                                                -                       

   COND       v20  delete the tail (great test, too)                            ----------------------------------------------------------------------  ----------  ----------------------------------------------------------------------  -  -------------------- 
     exec     v20  delete the line                      CLINE_delete          cline_5th                                                               p_null      0                                                                       -                       
     code     v20  save pointer                         cline_5th = yUNIT_p_rc;                                                                                                                                                                 -                       
     get      v20  review the counters                  LIST_unit             "counters"     , NULL                                                   s_equal     LIST counters    : file    2m,    2n;  line     2m,     2n              -                       
     code     v20  create a custom file expect string   sprintf  (CUSTOM, "LIST file list   : n=%4d, f=%4d, b=%4d, h=%-10p, t=%p", 2, 2, 2, cfile_1st, cfile_2nd);                                                                              -                       
     get      v20  review the file list                 LIST_unit             "files"        , NULL                                                   s_equal     [[ CUSTOM ]]                                                            -                       
     code     v20  create a custom list expect string   sprintf  (CUSTOM, "LIST %-10p  : n=%4d, f=%4d, b=%4d, h=%-10p, t=%p", cfile_1st, 1, 1, 1, cline_2nd, cline_2nd);                                                                        -                       
     get      v20  review the 1st list                  LIST_unit             "lines"        , cfile_1st                                              s_equal     [[ CUSTOM ]]                                                            -                       
     code     v20  create a custom list expect string   sprintf  (CUSTOM, "LIST %-10p  : n=%4d, f=%4d, b=%4d, h=%-10p, t=%p", cfile_2nd, 1, 1, 1, cline_4th, cline_4th);                                                                        -                       
     get      v20  review the 2nd list                  LIST_unit             "lines"        , cfile_2nd                                              s_equal     [[ CUSTOM ]]                                                            -                       
     exec     v20  list the lines                       LIST_list                                                                                     i_equal     0                                                                       -                       
     exec     v20  evaluate cron shape                  LIST_unit             "shape"        , NULL                                                   s_equal     LIST shape (  4) : F_F_                                                 -                       

   COND       v20  create and link back into first file                         ----------------------------------------------------------------------  ----------  ----------------------------------------------------------------------  -  -------------------- 
     exec     v20  add a new line                       CLINE_create          cfile_1st                                                               p_exists    0                                                                       -                       
     code     v20  save pointer                         cline_1st = yUNIT_p_rc;                                                                                                                                                                 -                       
     get      v20  review the counters                  LIST_unit             "counters"     , NULL                                                   s_equal     LIST counters    : file    2m,    2n;  line     3m,     3n              -                       
     code     v20  create a custom file expect string   sprintf  (CUSTOM, "LIST file list   : n=%4d, f=%4d, b=%4d, h=%-10p, t=%p", 2, 2, 2, cfile_1st, cfile_2nd);                                                                              -                       
     get      v20  review the file list                 LIST_unit             "files"        , NULL                                                   s_equal     [[ CUSTOM ]]                                                            -                       
     code     v20  create a custom list expect string   sprintf  (CUSTOM, "LIST %-10p  : n=%4d, f=%4d, b=%4d, h=%-10p, t=%p", cfile_1st, 2, 2, 2, cline_2nd, cline_1st);                                                                        -                       
     get      v20  review the 1st list                  LIST_unit             "lines"        , cfile_1st                                              s_equal     [[ CUSTOM ]]                                                            -                       
     code     v20  create a custom list expect string   sprintf  (CUSTOM, "LIST %-10p  : n=%4d, f=%4d, b=%4d, h=%-10p, t=%p", cfile_2nd, 1, 1, 1, cline_4th, cline_4th);                                                                        -                       
     get      v20  review the 2nd list                  LIST_unit             "lines"        , cfile_2nd                                              s_equal     [[ CUSTOM ]]                                                            -                       
     exec     v20  list the lines                       LIST_list                                                                                     i_equal     0                                                                       -                       
     exec     v20  evaluate cron shape                  LIST_unit             "shape"        , NULL                                                   s_equal     LIST shape (  5) : F__F_                                                -                       

   COND       v20  delete the only line from second list                        ----------------------------------------------------------------------  ----------  ----------------------------------------------------------------------  -  -------------------- 
     exec     v20  delete the line                      CLINE_delete          cline_4th                                                               p_null      0                                                                       -                       
     code     v20  save pointer                         cline_4th = yUNIT_p_rc;                                                                                                                                                                 -                       
     get      v20  review the counters                  LIST_unit             "counters"     , NULL                                                   s_equal     LIST counters    : file    2m,    2n;  line     2m,     2n              -                       
     code     v20  create a custom file expect string   sprintf  (CUSTOM, "LIST file list   : n=%4d, f=%4d, b=%4d, h=%-10p, t=%p", 2, 2, 2, cfile_1st, cfile_2nd);                                                                              -                       
     get      v20  review the file list                 LIST_unit             "files"        , NULL                                                   s_equal     [[ CUSTOM ]]                                                            -                       
     code     v20  create a custom list expect string   sprintf  (CUSTOM, "LIST %-10p  : n=%4d, f=%4d, b=%4d, h=%-10p, t=%p", cfile_1st, 2, 2, 2, cline_2nd, cline_1st);                                                                        -                       
     get      v20  review the 1st list                  LIST_unit             "lines"        , cfile_1st                                              s_equal     [[ CUSTOM ]]                                                            -                       
     code     v20  create a custom list expect string   sprintf  (CUSTOM, "LIST %-10p  : n=%4d, f=%4d, b=%4d, h=%-10p, t=%p", cfile_2nd, 0, 0, 0, NULL     , NULL     );                                                                        -                       
     get      v20  review the 2nd list                  LIST_unit             "lines"        , cfile_2nd                                              s_equal     [[ CUSTOM ]]                                                            -                       
     exec     v20  list the lines                       LIST_list                                                                                     i_equal     0                                                                       -                       
     exec     v20  evaluate cron shape                  LIST_unit             "shape"        , NULL                                                   s_equal     LIST shape (  4) : F__F                                                 -                       

   COND       v20  delete the empty file                                        ----------------------------------------------------------------------  ----------  ----------------------------------------------------------------------  -  -------------------- 
     exec     v20  delete the file                      CFILE_delete          cfile_2nd                                                               p_null      0                                                                       -                       
     code     v20  save pointer                         cfile_2nd = yUNIT_p_rc;                                                                                                                                                                 -                       
     get      v20  review the counters                  LIST_unit             "counters"     , NULL                                                   s_equal     LIST counters    : file    1m,    1n;  line     2m,     2n              -                       
     code     v20  create a custom file expect string   sprintf  (CUSTOM, "LIST file list   : n=%4d, f=%4d, b=%4d, h=%-10p, t=%p", 1, 1, 1, cfile_1st, cfile_1st);                                                                              -                       
     get      v20  review the file list                 LIST_unit             "files"        , NULL                                                   s_equal     [[ CUSTOM ]]                                                            -                       
     code     v20  create a custom list expect string   sprintf  (CUSTOM, "LIST %-10p  : n=%4d, f=%4d, b=%4d, h=%-10p, t=%p", cfile_1st, 2, 2, 2, cline_2nd, cline_1st);                                                                        -                       
     get      v20  review the 1st list                  LIST_unit             "lines"        , cfile_1st                                              s_equal     [[ CUSTOM ]]                                                            -                       
     code     v20  create a custom list expect string   sprintf  (CUSTOM, "LIST %-10p  : n=%4d, f=%4d, b=%4d, h=%-10p, t=%p", cfile_2nd, 0, 0, 0, NULL     , NULL     );                                                                        -                       
     get      v20  review the 2nd list                  LIST_unit             "lines"        , cfile_2nd                                              s_equal     [[ CUSTOM ]]                                                            -                       
     exec     v20  list the lines                       LIST_list                                                                                     i_equal     0                                                                       -                       
     exec     v20  evaluate cron shape                  LIST_unit             "shape"        , NULL                                                   s_equal     LIST shape (  3) : F__                                                  -                       

   COND       v20  purge the remaining file                                     ----------------------------------------------------------------------  ----------  ----------------------------------------------------------------------  -  -------------------- 
     exec     v20  purge the file                       CFILE_purge           cfile_1st                                                               p_null      0                                                                       -                       
     code     v20  save pointer                         cfile_1st = yUNIT_p_rc;                                                                                                                                                                 -                       
     get      v20  review the counters                  LIST_unit             "counters"     , NULL                                                   s_equal     LIST counters    : file    0m,    0n;  line     0m,     0n              -                       
     code     v20  create a custom file expect string   sprintf  (CUSTOM, "LIST file list   : n=%4d, f=%4d, b=%4d, h=%-10p, t=%p", 0, 0, 0, NULL     , NULL     );                                                                              -                       
     get      v20  review the file list                 LIST_unit             "files"        , NULL                                                   s_equal     [[ CUSTOM ]]                                                            -                       
     code     v20  create a custom list expect string   sprintf  (CUSTOM, "LIST %-10p  : n=%4d, f=%4d, b=%4d, h=%-10p, t=%p", cfile_1st, 0, 0, 0, NULL     , NULL     );                                                                        -                       
     get      v20  review the 1st list                  LIST_unit             "lines"        , cfile_1st                                              s_equal     [[ CUSTOM ]]                                                            -                       
     code     v20  create a custom list expect string   sprintf  (CUSTOM, "LIST %-10p  : n=%4d, f=%4d, b=%4d, h=%-10p, t=%p", cfile_2nd, 0, 0, 0, NULL     , NULL     );                                                                        -                       
     get      v20  review the 2nd list                  LIST_unit             "lines"        , cfile_2nd                                              s_equal     [[ CUSTOM ]]                                                            -                       
     exec     v20  list the lines                       LIST_list                                                                                     i_equal     0                                                                       -                       
     exec     v20  evaluate cron shape                  LIST_unit             "shape"        , NULL                                                   s_equal     LIST shape (  0) : (empty)                                              -                       

   COND       v20  purge the cron system                                        ----------------------------------------------------------------------  ----------  ----------------------------------------------------------------------  -  -------------------- 
     exec     v20  retire all files                     BASE_purge                                                                                    i_equal     0                                                                       -                       
     get      v20  review the counters                  LIST_unit             "counters"     , NULL                                                   s_equal     LIST counters    : file    0m,    0n;  line     0m,     0n              -                       
     get      v20  review the file list                 LIST_unit             "files"        , NULL                                                   s_equal     LIST file list   : n=   0, f=   0, b=   0, h=(nil)     , t=(nil)        -                       
     exec     v20  list the lines                       LIST_list                                                                                     i_equal     0                                                                       -                       




#23456789012  123  123456789-123456789-123456789-12345  123456789-123456789-  123456789-123456789-123456789-123456789-123456789-123456789-123456789-  123456789-  123456789-123456789-123456789-123456789-123456789-123456789-123456789-  -  123456789-123456789- 
#==(verb)===  ver  ===========(description)===========  =====(function)=====  ========================(arguments)===================================  ==(test)==  ==========================(results)===================================  t  ========(var)======= 
SCRP          v20  create and retire cronfiles                                  BASE_create, BASE_retire, BASE_purge                                    ----------  ----------------------------------------------------------------------  -  -------------------- 

   COND       v20  prepare for run                                              ----------------------------------------------------------------------  ----------  ----------------------------------------------------------------------  -  -------------------- 
     exec     v20  initialize the logger                PROG_testquiet                                                                                i_equal     0                                                                       -                       
     code     v20  create a cronfile pointer            tCFILE *cfile_1st = NULL;                                                                                                                                                               -                       
     code     v20  create a cronfile pointer            tCFILE *cfile_2nd = NULL;                                                                                                                                                               -                       
     code     v20  create a cronfile pointer            tCFILE *cfile_3rd = NULL;                                                                                                                                                               -                       

   COND       v20  review initial cronfile list                                 ----------------------------------------------------------------------  ----------  ----------------------------------------------------------------------  -  -------------------- 
     get      v20  review the file list                 LIST_unit             "files"        , NULL                                                   s_equal     LIST file list   : n=   0, f=   0, b=   0, h=(nil)     , t=(nil)        -                       
     get      v20  review the counters                  LIST_unit             "counters"     , NULL                                                   s_equal     LIST counters    : file    0m,    0n;  line     0m,     0n              -                       
     exec     v20  list the lines                       LIST_list                                                                                     i_equal     0                                                                       -                       
     exec     v20  evaluate cron shape                  LIST_unit             "shape"        , NULL                                                   s_equal     LIST shape (  0) : (empty)                                              -                       

   COND       v20  add a cronfile entry                                         ----------------------------------------------------------------------  ----------  ----------------------------------------------------------------------  -  -------------------- 
     exec     v20  add a new file                       BASE_create           "root.crontab",       "root",     &cfile_1st                            i_equal     0                                                                       -                       
     code     v20  create a custom file expect string   sprintf  (CUSTOM, "LIST file list   : n=%4d, f=%4d, b=%4d, h=%-10p, t=%p", 1, 1, 1, cfile_1st, cfile_1st);                                                                              -                       
     get      v20  review the file list                 LIST_unit             "files"        , NULL                                                   s_equal     [[ CUSTOM ]]                                                            -                       
     get      v20  review the counters                  LIST_unit             "counters"     , NULL                                                   s_equal     LIST counters    : file    1m,    1n;  line     0m,     0n              -                       
     exec     v20  list the lines                       LIST_list                                                                                     i_equal     0                                                                       -                       
     exec     v20  evaluate cron shape                  LIST_unit             "shape"        , NULL                                                   s_equal     LIST shape (  1) : F                                                    -                       

   COND       v20  add another entry                                            ----------------------------------------------------------------------  ----------  ----------------------------------------------------------------------  -  -------------------- 
     exec     v20  add a new file                       BASE_create           "member.crontab",     "member",   &cfile_2nd                            i_equal     0                                                                       -                       
     code     v20  create a custom file expect string   sprintf  (CUSTOM, "LIST file list   : n=%4d, f=%4d, b=%4d, h=%-10p, t=%p", 2, 2, 2, cfile_1st, cfile_2nd);                                                                              -                       
     get      v20  review the file list                 LIST_unit             "files"        , NULL                                                   s_equal     [[ CUSTOM ]]                                                            -                       
     get      v20  review the counters                  LIST_unit             "counters"     , NULL                                                   s_equal     LIST counters    : file    2m,    2n;  line     0m,     0n              -                       
     exec     v20  list the lines                       LIST_list                                                                                     i_equal     0                                                                       -                       
     exec     v20  evaluate cron shape                  LIST_unit             "shape"        , NULL                                                   s_equal     LIST shape (  2) : FF                                                   -                       

   COND       v20  add a third entry                                            ----------------------------------------------------------------------  ----------  ----------------------------------------------------------------------  -  -------------------- 
     exec     v20  add a new file                       BASE_create           "root.system",        "root",     &cfile_3rd                            i_equal     0                                                                       -                       
     code     v20  create a custom file expect string   sprintf  (CUSTOM, "LIST file list   : n=%4d, f=%4d, b=%4d, h=%-10p, t=%p", 3, 3, 3, cfile_1st, cfile_3rd);                                                                              -                       
     get      v20  review the file list                 LIST_unit             "files"        , NULL                                                   s_equal     [[ CUSTOM ]]                                                            -                       
     get      v20  review the counters                  LIST_unit             "counters"     , NULL                                                   s_equal     LIST counters    : file    3m,    3n;  line     0m,     0n              -                       
     exec     v20  list the lines                       LIST_list                                                                                     i_equal     0                                                                       -                       
     exec     v20  evaluate cron shape                  LIST_unit             "shape"        , NULL                                                   s_equal     LIST shape (  3) : FFF                                                  -                       

   COND       v20  retire the first cronfile                                    ----------------------------------------------------------------------  ----------  ----------------------------------------------------------------------  -  -------------------- 
     exec     v20  retire a file                        BASE_retire           "root.crontab"                                                          i_equal     0                                                                       -                       
     code     v20  create a custom file expect string   sprintf  (CUSTOM, "LIST file list   : n=%4d, f=%4d, b=%4d, h=%-10p, t=%p", 2, 2, 2, cfile_2nd, cfile_3rd);                                                                              -                       
     get      v20  review the file list                 LIST_unit             "files"        , NULL                                                   s_equal     [[ CUSTOM ]]                                                            -                       
     get      v20  review the counters                  LIST_unit             "counters"     , NULL                                                   s_equal     LIST counters    : file    2m,    2n;  line     0m,     0n              -                       
     exec     v20  list the lines                       LIST_list                                                                                     i_equal     0                                                                       -                       
     exec     v20  evaluate cron shape                  LIST_unit             "shape"        , NULL                                                   s_equal     LIST shape (  2) : FF                                                   -                       

   COND       v20  retire the fake cronfile name                                ----------------------------------------------------------------------  ----------  ----------------------------------------------------------------------  -  -------------------- 
     exec     v20  retire a file                        BASE_retire           "joe.crontab"                                                           i_equal     -1                                                                      -                       
     code     v20  create a custom file expect string   sprintf  (CUSTOM, "LIST file list   : n=%4d, f=%4d, b=%4d, h=%-10p, t=%p", 2, 2, 2, cfile_2nd, cfile_3rd);                                                                              -                       
     get      v20  review the file list                 LIST_unit             "files"        , NULL                                                   s_equal     [[ CUSTOM ]]                                                            -                       
     get      v20  review the counters                  LIST_unit             "counters"     , NULL                                                   s_equal     LIST counters    : file    2m,    2n;  line     0m,     0n              -                       
     exec     v20  list the lines                       LIST_list                                                                                     i_equal     0                                                                       -                       
     exec     v20  evaluate cron shape                  LIST_unit             "shape"        , NULL                                                   s_equal     LIST shape (  2) : FF                                                   -                       

   COND       v20  retire the already deleted one again                         ----------------------------------------------------------------------  ----------  ----------------------------------------------------------------------  -  -------------------- 
     exec     v20  retire a file                        BASE_retire           "root.crontab"                                                          i_equal     -1                                                                      -                       
     code     v20  create a custom file expect string   sprintf  (CUSTOM, "LIST file list   : n=%4d, f=%4d, b=%4d, h=%-10p, t=%p", 2, 2, 2, cfile_2nd, cfile_3rd);                                                                              -                       
     get      v20  review the file list                 LIST_unit             "files"        , NULL                                                   s_equal     [[ CUSTOM ]]                                                            -                       
     get      v20  review the counters                  LIST_unit             "counters"     , NULL                                                   s_equal     LIST counters    : file    2m,    2n;  line     0m,     0n              -                       
     exec     v20  list the lines                       LIST_list                                                                                     i_equal     0                                                                       -                       
     exec     v20  evaluate cron shape                  LIST_unit             "shape"        , NULL                                                   s_equal     LIST shape (  2) : FF                                                   -                       

   COND       v20  purge the remaining cronfiles                                ----------------------------------------------------------------------  ----------  ----------------------------------------------------------------------  -  -------------------- 
     exec     v20  retire a file                        LIST_purge                                                                                    i_equal     0                                                                       -                       
     get      v20  review the file list                 LIST_unit             "files"        , NULL                                                   s_equal     LIST file list   : n=   0, f=   0, b=   0, h=(nil)     , t=(nil)        -                       
     get      v20  review the counters                  LIST_unit             "counters"     , NULL                                                   s_equal     LIST counters    : file    0m,    0n;  line     0m,     0n              -                       
     exec     v20  list the lines                       LIST_list                                                                                     i_equal     0                                                                       -                       
     exec     v20  evaluate cron shape                  LIST_unit             "shape"        , NULL                                                   s_equal     LIST shape (  0) : (empty)                                              -                       




#23456789012  123  123456789-123456789-123456789-12345  123456789-123456789-  123456789-123456789-123456789-123456789-123456789-123456789-123456789-  123456789-  123456789-123456789-123456789-123456789-123456789-123456789-123456789-  -  123456789-123456789- 
#==(verb)===  ver  ===========(description)===========  =====(function)=====  ========================(arguments)===================================  ==(test)==  ==========================(results)===================================  t  ========(var)======= 
SCRP          v20  create and retire cron lines                                 BASE_inventory, BASE_retire                                             ----------  ----------------------------------------------------------------------  -  -------------------- 

   COND       v20  prepare for run                                              ----------------------------------------------------------------------  ----------  ----------------------------------------------------------------------  -  -------------------- 
     exec     v20  initialize the logger                PROG_testquiet                                                                                i_equal     0                                                                       -                       
     code     v20  create a cronfile pointer            tCFILE *cfile_1st = NULL;                                                                                                                                                               -                       
     code     v20  create a cronfile pointer            tCFILE *cfile_2nd = NULL;                                                                                                                                                               -                       

   COND       v20  add a cronfile entry                                         ----------------------------------------------------------------------  ----------  ----------------------------------------------------------------------  -  -------------------- 
     exec     v20  add a new file                       BASE_create           "root.crontab",       "root",     &cfile_1st                            i_equal     0                                                                       -                       
     code     v20  create a custom file expect string   sprintf  (CUSTOM, "LIST file list   : n=%4d, f=%4d, b=%4d, h=%-10p, t=%p", 1, 1, 1, cfile_1st, cfile_1st);                                                                              -                       
     get      v20  review the file list                 LIST_unit             "files"        , NULL                                                   s_equal     [[ CUSTOM ]]                                                            -                       
     get      v20  review the counters                  LIST_unit             "counters"     , NULL                                                   s_equal     LIST counters    : file    1m,    1n;  line     0m,     0n              -                       
     exec     v20  list the lines                       LIST_list                                                                                     i_equal     0                                                                       -                       
     exec     v20  evaluate cron shape                  LIST_unit             "shape"        , NULL                                                   s_equal     LIST shape (  1) : F                                                    -                       

   COND       v20  add another entry                                            ----------------------------------------------------------------------  ----------  ----------------------------------------------------------------------  -  -------------------- 
     exec     v20  add a new file                       BASE_create           "member.crontab",     "member",   &cfile_2nd                            i_equal     0                                                                       -                       
     code     v20  create a custom file expect string   sprintf  (CUSTOM, "LIST file list   : n=%4d, f=%4d, b=%4d, h=%-10p, t=%p", 2, 2, 2, cfile_1st, cfile_2nd);                                                                              -                       
     get      v20  review the file list                 LIST_unit             "files"        , NULL                                                   s_equal     [[ CUSTOM ]]                                                            -                       
     get      v20  review the counters                  LIST_unit             "counters"     , NULL                                                   s_equal     LIST counters    : file    2m,    2n;  line     0m,     0n              -                       
     exec     v20  list the lines                       LIST_list                                                                                     i_equal     0                                                                       -                       
     exec     v20  evaluate cron shape                  LIST_unit             "shape"        , NULL                                                   s_equal     LIST shape (  2) : FF                                                   -                       

   COND       v20  add a line to the second                                     ----------------------------------------------------------------------  ----------  ----------------------------------------------------------------------  -  -------------------- 
     load     v20  add a basic line to stdin            * * * * * /bin/true > /dev/null                                                                                                                                                         -                       
     exec     v20  add a new line                       BASE_inventory        cfile_2nd      ,      yUNIT_stdin                                       i_equal     0                                                                       -                       
     code     v20  create a custom file expect string   sprintf  (CUSTOM, "LIST file list   : n=%4d, f=%4d, b=%4d, h=%-10p, t=%p", 2, 2, 2, cfile_1st, cfile_2nd);                                                                              -                       
     get      v20  review the file list                 LIST_unit             "files"        , NULL                                                   s_equal     [[ CUSTOM ]]                                                            -                       
     get      v20  review the counters                  LIST_unit             "counters"     , NULL                                                   s_equal     LIST counters    : file    2m,    2n;  line     1m,     1n              -                       
     exec     v20  list the lines                       LIST_list                                                                                     i_equal     0                                                                       -                       
     exec     v20  evaluate cron shape                  LIST_unit             "shape"        , NULL                                                   s_equal     LIST shape (  3) : FF_                                                  -                       

   COND       v20  add a line to the first                                      ----------------------------------------------------------------------  ----------  ----------------------------------------------------------------------  -  -------------------- 
     load     v20  add a basic line to stdin            * * * * * /bin/ls > /dev/null                                                                                                                                                           -                       
     exec     v20  add a new line                       BASE_inventory        cfile_1st      ,      yUNIT_stdin                                       i_equal     0                                                                       -                       
     code     v20  create a custom file expect string   sprintf  (CUSTOM, "LIST file list   : n=%4d, f=%4d, b=%4d, h=%-10p, t=%p", 2, 2, 2, cfile_1st, cfile_2nd);                                                                              -                       
     get      v20  review the file list                 LIST_unit             "files"        , NULL                                                   s_equal     [[ CUSTOM ]]                                                            -                       
     get      v20  review the counters                  LIST_unit             "counters"     , NULL                                                   s_equal     LIST counters    : file    2m,    2n;  line     2m,     2n              -                       
     exec     v20  list the lines                       LIST_list                                                                                     i_equal     0                                                                       -                       
     exec     v20  evaluate cron shape                  LIST_unit             "shape"        , NULL                                                   s_equal     LIST shape (  4) : F_F_                                                 -                       

   COND       v20  add a line to the second                                     ----------------------------------------------------------------------  ----------  ----------------------------------------------------------------------  -  -------------------- 
     load     v20  add a basic line to stdin            * * * * * /bin/echo > /dev/null                                                                                                                                                         -                       
     exec     v20  add a new line                       BASE_inventory        cfile_2nd      ,      yUNIT_stdin                                       i_equal     0                                                                       -                       
     code     v20  create a custom file expect string   sprintf  (CUSTOM, "LIST file list   : n=%4d, f=%4d, b=%4d, h=%-10p, t=%p", 2, 2, 2, cfile_1st, cfile_2nd);                                                                              -                       
     get      v20  review the file list                 LIST_unit             "files"        , NULL                                                   s_equal     [[ CUSTOM ]]                                                            -                       
     get      v20  review the counters                  LIST_unit             "counters"     , NULL                                                   s_equal     LIST counters    : file    2m,    2n;  line     3m,     3n              -                       
     exec     v20  list the lines                       LIST_list                                                                                     i_equal     0                                                                       -                       
     exec     v20  evaluate cron shape                  LIST_unit             "shape"        , NULL                                                   s_equal     LIST shape (  5) : F_F__                                                -                       

   COND       v20  retire the first cronfile                                    ----------------------------------------------------------------------  ----------  ----------------------------------------------------------------------  -  -------------------- 
     exec     v20  retire a file                        BASE_retire           "root.crontab"                                                          i_equal     0                                                                       -                       
     get      v20  review the list                      BASE_unit             "file list",     0                                                      s_not       cronfile list    :   0      (nil)      (nil)                            -                       
     code     v20  create a custom file expect string   sprintf  (CUSTOM, "LIST file list   : n=%4d, f=%4d, b=%4d, h=%-10p, t=%p", 1, 1, 1, cfile_2nd, cfile_2nd);                                                                              -                       
     get      v20  review the counters                  LIST_unit             "counters"     , NULL                                                   s_equal     LIST counters    : file    1m,    1n;  line     2m,     2n              -                       
     exec     v20  list the lines                       LIST_list                                                                                     i_equal     0                                                                       -                       
     exec     v20  evaluate cron shape                  LIST_unit             "shape"        , NULL                                                   s_equal     LIST shape (  3) : F__                                                  -                       

   COND       v20  purge the remaining cronfiles                                ----------------------------------------------------------------------  ----------  ----------------------------------------------------------------------  -  -------------------- 
     exec     v20  retire a file                        BASE_purge                                                                                    i_equal     0                                                                       -                       
     get      v20  review the file list                 LIST_unit             "files"        , NULL                                                   s_equal     LIST file list   : n=   0, f=   0, b=   0, h=(nil)     , t=(nil)        -                       
     get      v20  review the counters                  LIST_unit             "counters"     , NULL                                                   s_equal     LIST counters    : file    0m,    0n;  line     0m,     0n              -                       
     exec     v20  list the lines                       LIST_list                                                                                     i_equal     0                                                                       -                       
     exec     v20  evaluate cron shape                  LIST_unit             "shape"        , NULL                                                   s_equal     LIST shape (  0) : (empty)                                              -                       




#23456789012  123  123456789-123456789-123456789-12345  123456789-123456789-  123456789-123456789-123456789-123456789-123456789-123456789-123456789-  123456789-  123456789-123456789-123456789-123456789-123456789-123456789-123456789-  -  123456789-123456789- 
#==(verb)===  ver  ===========(description)===========  =====(function)=====  ========================(arguments)===================================  ==(test)==  ==========================(results)===================================  t  ========(var)======= 
SCRP          v20  verify the running of jobs                                   BASE_fast, BASE_dispatch                                                ----------  ----------------------------------------------------------------------  -  -------------------- 

   COND       v20  prepare for parsing                                          ----------------------------------------------------------------------  ----------  ----------------------------------------------------------------------  -  -------------------- 
     exec     v20  initialize the logger                PROG_testquiet                                                                                i_equal     0                                                                       -                       
     code     v20  create a cronfile pointer            tCFILE *cfile_1st = NULL;                                                                                                                                                               -                       
     exec     v20  set the date                         ySCHED_setdate           11,  1, 15                                                           i_equal      0                                                                      -                       

   COND       v20  run fast on a empty list                                     ----------------------------------------------------------------------  ----------  ----------------------------------------------------------------------  -  -------------------- 
     exec     v20  run fast                             BASE_fast             1000000                                                                 i_equal     0                                                                       -                       
     exec     v20  look at the fast list                BASE_unitfast                                                                                 i_equal     0                                                                       -                       
     exec     v20  look at the proc list                BASE_unitproc                                                                                 i_equal     0                                                                       -                       
     get      v20  review the counters                  LIST_unit             "counters"     , NULL                                                   s_equal     LIST counters    : file    0m,    0n;  line     0m,     0n              -                       
     get      v20  review the counts                    BASE_unit             "counters",      0                                                      s_equal     counters         :    0 line,    0 fast,    0 proc                      -                       

   COND       v20  run dispatch on an empty list                                ----------------------------------------------------------------------  ----------  ----------------------------------------------------------------------  -  -------------------- 
     exec     v20  run dispatch                         BASE_dispatch         1                                                                       i_equal     0                                                                       -                       
     exec     v20  look at the fast list                BASE_unitfast                                                                                 i_equal     0                                                                       -                       
     exec     v20  look at the proc list                BASE_unitproc                                                                                 i_equal     0                                                                       -                       
     get      v20  review the counters                  LIST_unit             "counters"     , NULL                                                   s_equal     LIST counters    : file    0m,    0n;  line     0m,     0n              -                       
     get      v20  review the counts                    BASE_unit             "counters",      0                                                      s_equal     counters         :    0 line,    0 fast,    0 proc                      -                       

   COND       v20  run check on an empty list                                   ----------------------------------------------------------------------  ----------  ----------------------------------------------------------------------  -  -------------------- 
     code     v20  pause while jobs complete            sleep(2);                                                                                                                                                                               -                       
     exec     v20  run check                            check                                                                                         i_equal     0                                                                       -                       
     exec     v20  look at the fast list                BASE_unitfast                                                                                 i_equal     0                                                                       -                       
     exec     v20  look at the proc list                BASE_unitproc                                                                                 i_equal     0                                                                       -                       
     get      v20  review the counters                  LIST_unit             "counters"     , NULL                                                   s_equal     LIST counters    : file    0m,    0n;  line     0m,     0n              -                       
     get      v20  review the counts                    BASE_unit             "counters",      0                                                      s_equal     counters         :    0 line,    0 fast,    0 proc                      -                       

   COND       v20  add the first file                                           ----------------------------------------------------------------------  ----------  ----------------------------------------------------------------------  -  -------------------- 
     exec     v20  add a new file                       BASE_create           "root.run_test",      "root",     &cfile_1st                            i_equal     0                                                                       -                       
     get      v20  review the counters                  LIST_unit             "counters"     , NULL                                                   s_equal     LIST counters    : file    1m,    1n;  line     0m,     0n              -                       

   COND       v20  run fast on a lineless file                                  ----------------------------------------------------------------------  ----------  ----------------------------------------------------------------------  -  -------------------- 
     exec     v20  run fast                             BASE_fast             1000000                                                                 i_equal     0                                                                       -                       
     exec     v20  look at the fast list                BASE_unitfast                                                                                 i_equal     0                                                                       -                       
     exec     v20  look at the proc list                BASE_unitproc                                                                                 i_equal     0                                                                       -                       
     get      v20  review the counters                  LIST_unit             "counters"     , NULL                                                   s_equal     LIST counters    : file    1m,    1n;  line     0m,     0n              -                       
     get      v20  review the counts                    BASE_unit             "counters",      0                                                      s_equal     counters         :    0 line,    0 fast,    0 proc                      -                       

   COND       v20  run dispatch on a lineless file                              ----------------------------------------------------------------------  ----------  ----------------------------------------------------------------------  -  -------------------- 
     exec     v20  run dispatch                         BASE_dispatch         1                                                                       i_equal     0                                                                       -                       
     exec     v20  look at the fast list                BASE_unitfast                                                                                 i_equal     0                                                                       -                       
     exec     v20  look at the proc list                BASE_unitproc                                                                                 i_equal     0                                                                       -                       
     get      v20  review the counters                  LIST_unit             "counters"     , NULL                                                   s_equal     LIST counters    : file    1m,    1n;  line     0m,     0n              -                       
     get      v20  review the counts                    BASE_unit             "counters",      0                                                      s_equal     counters         :    0 line,    0 fast,    0 proc                      -                       

   COND       v20  run check on a lineless file                                 ----------------------------------------------------------------------  ----------  ----------------------------------------------------------------------  -  -------------------- 
     code     v20  pause while jobs complete            sleep(2);                                                                                                                                                                               -                       
     exec     v20  run check                            check                                                                                         i_equal     0                                                                       -                       
     exec     v20  look at the fast list                BASE_unitfast                                                                                 i_equal     0                                                                       -                       
     exec     v20  look at the proc list                BASE_unitproc                                                                                 i_equal     0                                                                       -                       
     get      v20  review the counters                  LIST_unit             "counters"     , NULL                                                   s_equal     LIST counters    : file    1m,    1n;  line     0m,     0n              -                       
     get      v20  review the counts                    BASE_unit             "counters",      0                                                      s_equal     counters         :    0 line,    0 fast,    0 proc                      -                       

   COND       v20  add a couple quick frequent jobs                             ----------------------------------------------------------------------  ----------  ----------------------------------------------------------------------  -  -------------------- 
     load     v20  add a basic line to stdin            * * * * * /bin/true > /dev/null                                                                                                                                                         -                       
     load     v20  add a basic line to stdin            * * * * * /bin/true > /dev/null                                                                                                                                                         -                       
     load     v20  add a basic line to stdin            * * * * * /bin/true > /dev/null                                                                                                                                                         -                       
     exec     v20  add a new line                       BASE_inventory        cfile_1st      ,      yUNIT_stdin                                       i_equal     0                                                                       -                       
     exec     v20  list the lines                       LIST_list                                                                                     i_equal     0                                                                       -                       
     get      v20  review the counters                  LIST_unit             "counters"     , NULL                                                   s_equal     LIST counters    : file    1m,    1n;  line     3m,     3n              -                       
     exec     v20  evaluate cron shape                  BASE_unit             "cron shape",    0                                                      s_equal     cron shape (  4) : F___                                                 -                       

   COND       v20  run fast on it                                               ----------------------------------------------------------------------  ----------  ----------------------------------------------------------------------  -  -------------------- 
     exec     v20  run fast                             BASE_fast             1000000                                                                 i_equal     0                                                                       -                       
     exec     v20  look at the fast list                BASE_unitfast                                                                                 i_equal     0                                                                       -                       
     exec     v20  look at the proc list                BASE_unitproc                                                                                 i_equal     0                                                                       -                       
     get      v20  review the counters                  LIST_unit             "counters"     , NULL                                                   s_equal     LIST counters    : file    1m,    1n;  line     3m,     3n              -                       
     get      v20  review the counts                    BASE_unit             "counters",      0                                                      s_equal     counters         :    3 line,    3 fast,    0 proc                      -                       

   COND       v20  run dispatch on it                                           ----------------------------------------------------------------------  ----------  ----------------------------------------------------------------------  -  -------------------- 
     exec     v20  run dispatch                         BASE_dispatch         1                                                                       i_equal     0                                                                       -                       
     exec     v20  look at the fast list                BASE_unitfast                                                                                 i_equal     0                                                                       -                       
     exec     v20  look at the proc list                BASE_unitproc                                                                                 i_equal     0                                                                       -                       
     get      v20  review the counters                  LIST_unit             "counters"     , NULL                                                   s_equal     LIST counters    : file    1m,    1n;  line     3m,     3n              -                       
     get      v20  review the counts                    BASE_unit             "counters",      0                                                      s_equal     counters         :    3 line,    3 fast,    3 proc                      -                       

   COND       v20  run check on it                                              ----------------------------------------------------------------------  ----------  ----------------------------------------------------------------------  -  -------------------- 
     code     v20  pause while jobs complete            sleep(2);                                                                                                                                                                               -                       
     exec     v20  run check                            check                                                                                         i_equal     0                                                                       -                       
     exec     v20  look at the fast list                BASE_unitfast                                                                                 i_equal     0                                                                       -                       
     exec     v20  look at the proc list                BASE_unitproc                                                                                 i_equal     0                                                                       -                       
     get      v20  review the counters                  LIST_unit             "counters"     , NULL                                                   s_equal     LIST counters    : file    1m,    1n;  line     3m,     3n              -                       
     get      v20  review the counts                    BASE_unit             "counters",      0                                                      s_equal     counters         :    3 line,    3 fast,    0 proc                      -                       

   COND       v20  purge the remaining cronfiles                                ----------------------------------------------------------------------  ----------  ----------------------------------------------------------------------  -  -------------------- 
     exec     v20  retire a file                        BASE_purge                                                                                    i_equal     0                                                                       -                       
     exec     v20  list the lines                       LIST_list                                                                                     i_equal     0                                                                       -                       
     get      v20  review the counters                  LIST_unit             "counters"     , NULL                                                   s_equal     LIST counters    : file    0m,    0n;  line     0m,     0n              -                       
     get      v20  review the counts                    BASE_unit             "counters",      0                                                      s_equal     counters         :    0 line,    0 fast,    0 proc                      -                       
     exec     v20  evaluate cron shape                  LIST_unit             "shape"        , NULL                                                   s_equal     LIST shape (  0) : (empty)                                              -                       





#23456789012  123  123456789-123456789-123456789-12345  123456789-123456789-  123456789-123456789-123456789-123456789-123456789-123456789-123456789-  123456789-  123456789-123456789-123456789-123456789-123456789-123456789-123456789-  -  123456789-123456789- 
#==(verb)===  ver  ===========(description)===========  =====(function)=====  ========================(arguments)===================================  ==(test)==  ==========================(results)===================================  t  ========(var)======= 
SCRP          v20  retire files with running lines                              BASE_inventory, BASE_retire                                             ----------  ----------------------------------------------------------------------  -  -------------------- 

   COND       v20  prepare for run                                              ----------------------------------------------------------------------  ----------  ----------------------------------------------------------------------  -  -------------------- 
     exec     v20  initialize the logger                PROG_testquiet                                                                                i_equal     0                                                                       -                       
     code     v20  create a cronfile pointer            tCFILE *cfile_1st = NULL;                                                                                                                                                               -                       
     code     v20  create a cronfile pointer            tCFILE *cfile_2nd = NULL;                                                                                                                                                               -                       
     exec     v20  set the date                         ySCHED_setdate           11,  1, 15                                                           i_equal      0                                                                      -                       

   COND       v20  add a cronfile entry                                         ----------------------------------------------------------------------  ----------  ----------------------------------------------------------------------  -  -------------------- 
     exec     v20  add a new file                       BASE_create           "root.crontab" ,      "root",     &cfile_1st                            i_equal     0                                                                       -                       
     code     v20  create a custom file expect string   sprintf  (CUSTOM, "LIST file list   : n=%4d, f=%4d, b=%4d, h=%-10p, t=%p", 1, 1, 1, cfile_1st, cfile_1st);                                                                              -                       
     get      v20  review the file list                 LIST_unit             "files"        , NULL                                                   s_equal     [[ CUSTOM ]]                                                            -                       
     get      v20  review the counters                  LIST_unit             "counters"     , NULL                                                   s_equal     LIST counters    : file    1m,    1n;  line     0m,     0n              -                       
     get      v20  review the counts                    LIST_unit             "running"      , NULL                                                   s_equal     LIST running     :    0 line,    0 fast,    0 proc                      -                       
     exec     v20  evaluate cron shape                  LIST_unit             "shape"        , NULL                                                   s_equal     LIST shape (  1) : F                                                    -                       
     exec     v20  list the lines                       LIST_list                                                                                     i_equal     0                                                                       -                       

   COND       v20  add another entry                                            ----------------------------------------------------------------------  ----------  ----------------------------------------------------------------------  -  -------------------- 
     exec     v20  add a new file                       BASE_create           "member.crontab",     "member",   &cfile_2nd                            i_equal     0                                                                       -                       
     code     v20  create a custom file expect string   sprintf  (CUSTOM, "LIST file list   : n=%4d, f=%4d, b=%4d, h=%-10p, t=%p", 2, 2, 2, cfile_1st, cfile_2nd);                                                                              -                       
     get      v20  review the file list                 LIST_unit             "files"        , NULL                                                   s_equal     [[ CUSTOM ]]                                                            -                       
     get      v20  review the counters                  LIST_unit             "counters"     , NULL                                                   s_equal     LIST counters    : file    2m,    2n;  line     0m,     0n              -                       
     get      v20  review the counts                    LIST_unit             "running"      , NULL                                                   s_equal     LIST running     :    0 line,    0 fast,    0 proc                      -                       
     exec     v20  evaluate cron shape                  LIST_unit             "shape"        , NULL                                                   s_equal     LIST shape (  2) : FF                                                   -                       
     exec     v20  list the lines                       LIST_list                                                                                     i_equal     0                                                                       -                       

   COND       v20  add a line to the second                                     ----------------------------------------------------------------------  ----------  ----------------------------------------------------------------------  -  -------------------- 
     load     v20  add a basic line to stdin            6 6 9 9 1 /bin/true                                                                                                                                                                     -                       
     exec     v20  add a new line                       BASE_inventory        cfile_2nd      ,      yUNIT_stdin                                       i_equal     0                                                                       -                       
     code     v20  create a custom file expect string   sprintf  (CUSTOM, "LIST file list   : n=%4d, f=%4d, b=%4d, h=%-10p, t=%p", 2, 2, 2, cfile_1st, cfile_2nd);                                                                              -                       
     get      v20  review the file list                 LIST_unit             "files"        , NULL                                                   s_equal     [[ CUSTOM ]]                                                            -                       
     get      v20  review the counters                  LIST_unit             "counters"     , NULL                                                   s_equal     LIST counters    : file    2m,    2n;  line     1m,     1n              -                       
     get      v20  review the counts                    LIST_unit             "running"      , NULL                                                   s_equal     LIST running     :    1 line,    0 fast,    0 proc                      -                       
     exec     v20  evaluate cron shape                  LIST_unit             "shape"        , NULL                                                   s_equal     LIST shape (  3) : FF_                                                  -                       
     exec     v20  list the lines                       LIST_list                                                                                     i_equal     0                                                                       -                       

   COND       v20  add a line to the first                                      ----------------------------------------------------------------------  ----------  ----------------------------------------------------------------------  -  -------------------- 
     load     v20  add a basic line to stdin            * * * * * /bin/false                                                                                                                                                                    -                       
     exec     v20  add a new line                       BASE_inventory        cfile_1st      ,      yUNIT_stdin                                       i_equal     0                                                                       -                       
     code     v20  create a custom file expect string   sprintf  (CUSTOM, "LIST file list   : n=%4d, f=%4d, b=%4d, h=%-10p, t=%p", 2, 2, 2, cfile_1st, cfile_2nd);                                                                              -                       
     get      v20  review the file list                 LIST_unit             "files"        , NULL                                                   s_equal     [[ CUSTOM ]]                                                            -                       
     get      v20  review the counters                  LIST_unit             "counters"     , NULL                                                   s_equal     LIST counters    : file    2m,    2n;  line     2m,     2n              -                       
     get      v20  review the counts                    LIST_unit             "running"      , NULL                                                   s_equal     LIST running     :    2 line,    0 fast,    0 proc                      -                       
     exec     v20  evaluate cron shape                  LIST_unit             "shape"        , NULL                                                   s_equal     LIST shape (  4) : F_F_                                                 -                       
     exec     v20  list the lines                       LIST_list                                                                                     i_equal     0                                                                       -                       

   COND       v20  add a line to the second                                     ----------------------------------------------------------------------  ----------  ----------------------------------------------------------------------  -  -------------------- 
     load     v20  add a basic line to stdin            * * * * * /bin/sleep 1                                                                                                                                                                  -                       
     exec     v20  add a new line                       BASE_inventory        cfile_2nd      ,      yUNIT_stdin                                       i_equal     0                                                                       -                       
     code     v20  create a custom file expect string   sprintf  (CUSTOM, "LIST file list   : n=%4d, f=%4d, b=%4d, h=%-10p, t=%p", 2, 2, 2, cfile_1st, cfile_2nd);                                                                              -                       
     get      v20  review the file list                 LIST_unit             "files"        , NULL                                                   s_equal     [[ CUSTOM ]]                                                            -                       
     get      v20  review the counters                  LIST_unit             "counters"     , NULL                                                   s_equal     LIST counters    : file    2m,    2n;  line     3m,     3n              -                       
     get      v20  review the counts                    LIST_unit             "running"      , NULL                                                   s_equal     LIST running     :    3 line,    0 fast,    0 proc                      -                       
     exec     v20  evaluate cron shape                  LIST_unit             "shape"        , NULL                                                   s_equal     LIST shape (  5) : F_F__                                                -                       
     exec     v20  list the lines                       LIST_list                                                                                     i_equal     0                                                                       -                       

   COND       v20  run fast on it                                               ----------------------------------------------------------------------  ----------  ----------------------------------------------------------------------  -  -------------------- 
     exec     v20  run fast                             BASE_fast             1000000                                                                 i_equal     0                                                                       -                       
     code     v20  create a custom file expect string   sprintf  (CUSTOM, "LIST file list   : n=%4d, f=%4d, b=%4d, h=%-10p, t=%p", 2, 2, 2, cfile_1st, cfile_2nd);                                                                              -                       
     get      v20  review the file list                 LIST_unit             "files"        , NULL                                                   s_equal     [[ CUSTOM ]]                                                            -                       
     get      v20  review the counters                  LIST_unit             "counters"     , NULL                                                   s_equal     LIST counters    : file    2m,    2n;  line     3m,     3n              -                       
     get      v20  review the counts                    LIST_unit             "running"      , NULL                                                   s_equal     LIST running     :    3 line,    2 fast,    0 proc                      -                       
     exec     v20  evaluate cron shape                  LIST_unit             "shape"        , NULL                                                   s_equal     LIST shape (  5) : F_F__                                                -                       
     exec     v20  list the lines                       LIST_list                                                                                     i_equal     0                                                                       -                       
     exec     v20  look at the fast list                BASE_unitfast                                                                                 i_equal     0                                                                       -                       
     exec     v20  look at the proc list                BASE_unitproc                                                                                 i_equal     0                                                                       -                       

   COND       v20  run dispatch on it                                           ----------------------------------------------------------------------  ----------  ----------------------------------------------------------------------  -  -------------------- 
     exec     v20  run dispatch                         BASE_dispatch         1                                                                       i_equal     0                                                                       -                       
     code     v20  create a custom file expect string   sprintf  (CUSTOM, "LIST file list   : n=%4d, f=%4d, b=%4d, h=%-10p, t=%p", 2, 2, 2, cfile_1st, cfile_2nd);                                                                              -                       
     get      v20  review the file list                 LIST_unit             "files"        , NULL                                                   s_equal     [[ CUSTOM ]]                                                            -                       
     get      v20  review the counters                  LIST_unit             "counters"     , NULL                                                   s_equal     LIST counters    : file    2m,    2n;  line     3m,     3n              -                       
     get      v20  review the counts                    LIST_unit             "running"      , NULL                                                   s_equal     LIST running     :    3 line,    2 fast,    2 proc                      -                       
     exec     v20  evaluate cron shape                  LIST_unit             "shape"        , NULL                                                   s_equal     LIST shape (  5) : F_F__                                                -                       
     exec     v20  list the lines                       LIST_list                                                                                     i_equal     0                                                                       -                       
     exec     v20  look at the fast list                BASE_unitfast                                                                                 i_equal     0                                                                       -                       
     exec     v20  look at the proc list                BASE_unitproc                                                                                 i_equal     0                                                                       -                       

   COND       v20  retire the first cronfile (nothing changes immediately)      ----------------------------------------------------------------------  ----------  ----------------------------------------------------------------------  -  -------------------- 
     exec     v20  retire a file                        BASE_retire           "root.crontab"                                                          i_equal     0                                                                       -                       
     code     v20  create a custom file expect string   sprintf  (CUSTOM, "LIST file list   : n=%4d, f=%4d, b=%4d, h=%-10p, t=%p", 2, 2, 2, cfile_1st, cfile_2nd);                                                                              -                       
     get      v20  review the file list                 LIST_unit             "files"        , NULL                                                   s_equal     [[ CUSTOM ]]                                                            -                       
     get      v20  review the counters                  LIST_unit             "counters"     , NULL                                                   s_equal     LIST counters    : file    2m,    2n;  line     3m,     3n              -                       
     get      v20  review the counts                    LIST_unit             "running"      , NULL                                                   s_equal     LIST running     :    3 line,    2 fast,    2 proc                      -                       
     exec     v20  evaluate cron shape                  LIST_unit             "shape"        , NULL                                                   s_equal     LIST shape (  5) : F_F__                                                -                       
     exec     v20  list the lines                       LIST_list                                                                                     i_equal     0                                                                       -                       

   COND       v20  run check on it (implements the retirement)                  ----------------------------------------------------------------------  ----------  ----------------------------------------------------------------------  -  -------------------- 
     code     v20  pause while jobs complete            sleep(2);                                                                                                                                                                               -                       
     exec     v20  run check                            check                                                                                         i_equal     0                                                                       -                       
     code     v20  create a custom file expect string   sprintf  (CUSTOM, "LIST file list   : n=%4d, f=%4d, b=%4d, h=%-10p, t=%p", 1, 1, 1, cfile_2nd, cfile_2nd);                                                                              -                       
     get      v20  review the file list                 LIST_unit             "files"        , NULL                                                   s_equal     [[ CUSTOM ]]                                                            -                       
     get      v20  review the counters                  LIST_unit             "counters"     , NULL                                                   s_equal     LIST counters    : file    1m,    1n;  line     2m,     2n              -                       
     get      v20  review the counts                    LIST_unit             "running"      , NULL                                                   s_equal     LIST running     :    2 line,    1 fast,    0 proc                      -                       
     exec     v20  evaluate cron shape                  LIST_unit             "shape"        , NULL                                                   s_equal     LIST shape (  3) : F__                                                  -                       
     exec     v20  list the lines                       LIST_list                                                                                     i_equal     0                                                                       -                       
     exec     v20  look at the fast list                BASE_unitfast                                                                                 i_equal     0                                                                       -                       
     exec     v20  look at the proc list                BASE_unitproc                                                                                 i_equal     0                                                                       -                       

   COND       v20  purge the remaining cronfiles                                ----------------------------------------------------------------------  ----------  ----------------------------------------------------------------------  -  -------------------- 
     exec     v20  retire the files                     BASE_purge                                                                                    i_equal     0                                                                       -                       
     code     v20  create a custom file expect string   sprintf  (CUSTOM, "LIST file list   : n=%4d, f=%4d, b=%4d, h=%-10p, t=%p", 0, 0, 0, NULL     , NULL     );                                                                              -                       
     get      v20  review the file list                 LIST_unit             "files"        , NULL                                                   s_equal     [[ CUSTOM ]]                                                            -                       
     get      v20  review the counters                  LIST_unit             "counters"     , NULL                                                   s_equal     LIST counters    : file    0m,    0n;  line     0m,     0n              -                       
     get      v20  review the counts                    LIST_unit             "running"      , NULL                                                   s_equal     LIST running     :    0 line,    0 fast,    0 proc                      -                       
     exec     v20  evaluate cron shape                  LIST_unit             "shape"        , NULL                                                   s_equal     LIST shape (  0) : (empty)                                              -                       
     exec     v20  list the lines                       LIST_list                                                                                     i_equal     0                                                                       -                       




#23456789012  123  123456789-123456789-123456789-12345  123456789-123456789-  123456789-123456789-123456789-123456789-123456789-123456789-123456789-  123456789-  123456789-123456789-123456789-123456789-123456789-123456789-123456789-  -  123456789-123456789- 
#==(verb)===  ver  ===========(description)===========  =====(function)=====  ========================(arguments)===================================  ==(test)==  ==========================(results)===================================  t  ========(var)======= 
SCRP          v20  parse all versions of cron lines                             BASE_inventory, BASE_parse                                              ----------  ----------------------------------------------------------------------  -  -------------------- 

   COND       v20  prepare for run                                              ----------------------------------------------------------------------  ----------  ----------------------------------------------------------------------  -  -------------------- 
     exec     v20  initialize the logger                PROG_testquiet                                                                                i_equal     0                                                                       -                       
     code     v20  create a cronfile pointer            tCFILE *cfile_1st = NULL;                                                                                                                                                               -                       
     code     v20  create a cronfile pointer            tCFILE *cfile_2nd = NULL;                                                                                                                                                               -                       
     code     v20  create a cronfile pointer            tCFILE *cfile_3rd = NULL;                                                                                                                                                               -                       
     code     v20  create a cronfile pointer            tCFILE *cfile_4th = NULL;                                                                                                                                                               -                       
     exec     v20  set the date                         ySCHED_setdate           11,  1, 15                                                           i_equal      0                                                                      -                       

   COND       v20  review initial cronfile list                                 ----------------------------------------------------------------------  ----------  ----------------------------------------------------------------------  -  -------------------- 
     get      v20  review the counters                  LIST_unit             "counters"     , NULL                                                   s_equal     LIST counters    : file    0m,    0n;  line     0m,     0n              -                       
     get      v20  review the file list                 LIST_unit             "files"        , NULL                                                   s_equal     LIST file list   : n=   0, f=   0, b=   0, h=(nil)     , t=(nil)        -                       
     exec     v20  list the lines                       LIST_list                                                                                     i_equal     0                                                                       -                       

   COND       v20  add a cronfile entry                                         ----------------------------------------------------------------------  ----------  ----------------------------------------------------------------------  -  -------------------- 
     exec     v20  add a new file                       BASE_create           "root.crontab",       "root",     &cfile_1st                            i_equal     0                                                                       -                       
     code     v20  create a custom file expect string   sprintf  (CUSTOM, "LIST file list   : n=%4d, f=%4d, b=%4d, h=%-10p, t=%p", 1, 1, 1, cfile_1st, cfile_1st);                                                                              -                       
     get      v20  review the file list                 LIST_unit             "files"        , NULL                                                   s_equal     [[ CUSTOM ]]                                                            -                       
     get      v20  review the counters                  LIST_unit             "counters"     , NULL                                                   s_equal     LIST counters    : file    1m,    1n;  line     0m,     0n              -                       
     exec     v20  evaluate cron shape                  LIST_unit             "shape"        , NULL                                                   s_equal     LIST shape (  1) : F                                                    -                       
     exec     v20  list the lines                       LIST_list                                                                                     i_equal     0                                                                       -                       

   COND       v20  add a line to the first                                      ----------------------------------------------------------------------  ----------  ----------------------------------------------------------------------  -  -------------------- 
     load     v20  add a basic line to stdin            */2    *      *      *      *     sar_gather   update system monitoring (sar) statistics   tiny  could   /usr/lib64/sa/sa1                                                    -                       
     exec     v20  add a new line                       BASE_inventory        cfile_1st      , yUNIT_stdin                                            i_equal     0                                                                       -                       
     code     v20  create a custom file expect string   sprintf  (CUSTOM, "LIST file list   : n=%4d, f=%4d, b=%4d, h=%-10p, t=%p", 1, 1, 1, cfile_1st, cfile_1st);                                                                              -                       
     get      v20  review the file list                 LIST_unit             "files"        , NULL                                                   s_equal     [[ CUSTOM ]]                                                            -                       
     get      v20  review the counters                  LIST_unit             "counters"     , NULL                                                   s_equal     LIST counters    : file    1m,    1n;  line     1m,     1n              -                       
     exec     v20  list the lines                       LIST_list                                                                                     i_equal     0                                                                       -                       
     exec     v20  evaluate cron shape                  LIST_unit             "shape"        , NULL                                                   s_equal     LIST shape (  2) : F_                                                   -                       
     exec     v20  show line as stored                  CLINE_show            cfile_1st->tail                                                         i_equal     0                                                                       -                       
     exec     v20  check title                          LIST_unit             "tracker"      , cfile_1st->tail                                        s_equal     LIST tracker     : [sar_gather]                                         -                       
     exec     v20  check comment                        LIST_unit             "comment"      , cfile_1st->tail                                        s_equal     LIST comment     :  41 [update system monitoring (sar) statistics]      -                       
     exec     v20  check profile                        LIST_unit             "profile"      , cfile_1st->tail                                        s_equal     LIST profile     : min=   0, exp=   0, max=   2                         -                       
     exec     v20  check controls                       LIST_unit             "controls"     , cfile_1st->tail                                        s_equal     LIST controls    : imp 0, mon -, cat -, del y, ski y, kil y             -                       
     exec     v20  check command                        LIST_unit             "command"      , cfile_1st->tail                                        s_equal     LIST command     :  17 [/usr/lib64/sa/sa1]                              -                       
     exec     v20  check minutes (cursory)              LIST_unit             "sched_min"    , cfile_1st->tail                                        s_equal     LIST minutes     : [1_1_1_1_1_1_1_1_1_1_1_1_1_1_1_1_1_1_1_1_1_1_1]      -                       
     exec     v20  check hours   (cursory)              LIST_unit             "sched_hrs"    , cfile_1st->tail                                        s_equal     LIST hours       : [111111111111111111111111]                           -                       
     exec     v20  check days    (cursory)              LIST_unit             "sched_dys"    , cfile_1st->tail                                        s_equal     LIST days        : [.1111111111111111111111111111111]                   -                       
     exec     v20  check months  (cursory)              LIST_unit             "sched_mos"    , cfile_1st->tail                                        s_equal     LIST months      : [.111111111111]                                      -                       
     exec     v20  check dow     (cursory)              LIST_unit             "sched_dow"    , cfile_1st->tail                                        s_equal     LIST dow         : [.1111111]                                           -                       
     exec     v20  check weeks   (cursory)              LIST_unit             "sched_wks"    , cfile_1st->tail                                        s_equal     LIST weeks       : [.11111111111111111111111111111111111111111111]      -                       
     exec     v20  check years   (cursory)              LIST_unit             "sched_yrs"    , cfile_1st->tail                                        s_equal     LIST years       : [111111111111111111111111111111111111111111111]      -                       

   COND       v20  add another line (more specific time)                        ----------------------------------------------------------------------  ----------  ----------------------------------------------------------------------  -  -------------------- 
     load     v20  add a basic line to stdin            2      5      *      *      *     sar_daily    create the sar daily report                 small  must  /usr/lib64/sa/sa2                                                     -                       
     exec     v20  add a new line                       BASE_inventory        cfile_1st      , yUNIT_stdin                                            i_equal     0                                                                       -                       
     get      v20  review the counters                  LIST_unit             "counters"     , NULL                                                   s_equal     LIST counters    : file    1m,    1n;  line     2m,     2n              -                       
     exec     v20  list the lines                       LIST_list                                                                                     i_equal     0                                                                       -                       
     exec     v20  evaluate cron shape                  LIST_unit             "shape"        , NULL                                                   s_equal     LIST shape (  3) : F__                                                  -                       
#    exec     v20  show line as stored                  CLINE_show            cfile_1st->tail                                                         i_equal     0                                                                       -                       
     exec     v20  check title                          LIST_unit             "tracker"      , cfile_1st->tail                                        s_equal     LIST tracker     : [sar_daily]                                          -                       
     exec     v20  check comment                        LIST_unit             "comment"      , cfile_1st->tail                                        s_equal     LIST comment     :  27 [create the sar daily report]                    -                       
     exec     v20  check profile                        LIST_unit             "profile"      , cfile_1st->tail                                        s_equal     LIST profile     : min=   0, exp=   2, max=  10                         -                       
     exec     v20  check controls                       LIST_unit             "controls"     , cfile_1st->tail                                        s_equal     LIST controls    : imp 4, mon y, cat y, del y, ski -, kil -             -                       
     exec     v20  check command                        LIST_unit             "command"      , cfile_1st->tail                                        s_equal     LIST command     :  17 [/usr/lib64/sa/sa2]                              -                       
     exec     v20  check minutes (cursory)              LIST_unit             "sched_min"    , cfile_1st->tail                                        s_equal     LIST minutes     : [__1__________________________________________]      -                       
     exec     v20  check hours   (cursory)              LIST_unit             "sched_hrs"    , cfile_1st->tail                                        s_equal     LIST hours       : [_____1__________________]                           -                       
     exec     v20  check days    (cursory)              LIST_unit             "sched_dys"    , cfile_1st->tail                                        s_equal     LIST days        : [.1111111111111111111111111111111]                   -                       
     exec     v20  check months  (cursory)              LIST_unit             "sched_mos"    , cfile_1st->tail                                        s_equal     LIST months      : [.111111111111]                                      -                       
     exec     v20  check dow     (cursory)              LIST_unit             "sched_dow"    , cfile_1st->tail                                        s_equal     LIST dow         : [.1111111]                                           -                       
     exec     v20  check weeks   (cursory)              LIST_unit             "sched_wks"    , cfile_1st->tail                                        s_equal     LIST weeks       : [.11111111111111111111111111111111111111111111]      -                       
     exec     v20  check years   (cursory)              LIST_unit             "sched_yrs"    , cfile_1st->tail                                        s_equal     LIST years       : [111111111111111111111111111111111111111111111]      -                       

   COND       v20  add another line (add week and year)                         ----------------------------------------------------------------------  ----------  ----------------------------------------------------------------------  -  -------------------- 
     load     v20  add a basic line to stdin            5    2    *    *    3    1    15   sar_daily    create the sar daily report                 medium  want  /usr/lib64/sa/sa2                                                   -                       
     exec     v20  add a new line                       BASE_inventory        cfile_1st      , yUNIT_stdin                                            i_equal     0                                                                       -                       
     get      v20  review the counters                  LIST_unit             "counters"     , NULL                                                   s_equal     LIST counters    : file    1m,    1n;  line     3m,     3n              -                       
     exec     v20  list the lines                       LIST_list                                                                                     i_equal     0                                                                       -                       
     exec     v20  evaluate cron shape                  LIST_unit             "shape"        , NULL                                                   s_equal     LIST shape (  4) : F___                                                 -                       
#    exec     v20  show line as stored                  CLINE_show            cfile_1st->tail                                                         i_equal     0                                                                       -                       
     exec     v20  check title                          LIST_unit             "tracker"      , cfile_1st->tail                                        s_equal     LIST tracker     : [sar_daily]                                          -                       
     exec     v20  check comment                        LIST_unit             "comment"      , cfile_1st->tail                                        s_equal     LIST comment     :  27 [create the sar daily report]                    -                       
     exec     v20  check profile                        LIST_unit             "profile"      , cfile_1st->tail                                        s_equal     LIST profile     : min=   1, exp=   5, max=  30                         -                       
     exec     v20  check controls                       LIST_unit             "controls"     , cfile_1st->tail                                        s_equal     LIST controls    : imp 2, mon y, cat -, del y, ski y, kil -             -                       
     exec     v20  check command                        LIST_unit             "command"      , cfile_1st->tail                                        s_equal     LIST command     :  17 [/usr/lib64/sa/sa2]                              -                       
     exec     v20  check minutes (cursory)              LIST_unit             "sched_min"    , cfile_1st->tail                                        s_equal     LIST minutes     : [_____1_______________________________________]      -                       
     exec     v20  check hours   (cursory)              LIST_unit             "sched_hrs"    , cfile_1st->tail                                        s_equal     LIST hours       : [__1_____________________]                           -                       
     exec     v20  check days    (cursory)              LIST_unit             "sched_dys"    , cfile_1st->tail                                        s_equal     LIST days        : [.1111111111111111111111111111111]                   -                       
     exec     v20  check months  (cursory)              LIST_unit             "sched_mos"    , cfile_1st->tail                                        s_equal     LIST months      : [.111111111111]                                      -                       
     exec     v20  check dow     (cursory)              LIST_unit             "sched_dow"    , cfile_1st->tail                                        s_equal     LIST dow         : [.__1____]                                           -                       
     exec     v20  check weeks   (cursory)              LIST_unit             "sched_wks"    , cfile_1st->tail                                        s_equal     LIST weeks       : [.1___________________________________________]      -                       
     exec     v20  check years   (cursory)              LIST_unit             "sched_yrs"    , cfile_1st->tail                                        s_equal     LIST years       : [_______________1_____________________________]      -                       

   COND       v20  overrun the title, comment, and command fields               ----------------------------------------------------------------------  ----------  ----------------------------------------------------------------------  -  -------------------- 
     load     v20  add a basic line to stdin            * * * * *  sar_gather_23456  update system monitoring (sar) statistics, include some additional text   bullcrap  testicals  /usr/lib64/system_accounting/special_file         -                       
     exec     v20  add a new line                       BASE_inventory        cfile_1st      , yUNIT_stdin                                            i_equal     0                                                                       -                       
     get      v20  review the counters                  LIST_unit             "counters"     , NULL                                                   s_equal     LIST counters    : file    1m,    1n;  line     4m,     4n              -                       
     exec     v20  list the lines                       LIST_list                                                                                     i_equal     0                                                                       -                       
     exec     v20  evaluate cron shape                  LIST_unit             "shape"        , NULL                                                   s_equal     LIST shape (  5) : F____                                                -                       
#    exec     v20  show line as stored                  CLINE_show            cfile_1st->tail                                                         i_equal     0                                                                       -                       
     exec     v20  check title                          LIST_unit             "tracker"      , cfile_1st->tail                                        s_equal     LIST tracker     : [sar_gather_2345]                                    -                       
     exec     v20  check comment                        LIST_unit             "comment"      , cfile_1st->tail                                        s_equal     LIST comment     :  59 [update system monitoring (sar) statistics]      -                       
     exec     v20  check profile                        LIST_unit             "profile"      , cfile_1st->tail                                        s_equal     LIST profile     : min=   0, exp=   0, max=   5                         -                       
     exec     v20  check controls                       LIST_unit             "controls"     , cfile_1st->tail                                        s_equal     LIST controls    : imp 0, mon -, cat -, del y, ski y, kil y             -                       
     exec     v20  check command                        LIST_unit             "command"      , cfile_1st->tail                                        s_equal     LIST command     :  41 [/usr/lib64/system_accounting/special_file]      -                       
     exec     v20  check minutes (cursory)              LIST_unit             "sched_min"    , cfile_1st->tail                                        s_equal     LIST minutes     : [111111111111111111111111111111111111111111111]      -                       
     exec     v20  check hours   (cursory)              LIST_unit             "sched_hrs"    , cfile_1st->tail                                        s_equal     LIST hours       : [111111111111111111111111]                           -                       
     exec     v20  check days    (cursory)              LIST_unit             "sched_dys"    , cfile_1st->tail                                        s_equal     LIST days        : [.1111111111111111111111111111111]                   -                       
     exec     v20  check months  (cursory)              LIST_unit             "sched_mos"    , cfile_1st->tail                                        s_equal     LIST months      : [.111111111111]                                      -                       
     exec     v20  check dow     (cursory)              LIST_unit             "sched_dow"    , cfile_1st->tail                                        s_equal     LIST dow         : [.1111111]                                           -                       
     exec     v20  check weeks   (cursory)              LIST_unit             "sched_wks"    , cfile_1st->tail                                        s_equal     LIST weeks       : [.11111111111111111111111111111111111111111111]      -                       
     exec     v20  check years   (cursory)              LIST_unit             "sched_yrs"    , cfile_1st->tail                                        s_equal     LIST years       : [111111111111111111111111111111111111111111111]      -                       

   COND       v20  leave duration and small fields empty                        ----------------------------------------------------------------------  ----------  ----------------------------------------------------------------------  -  -------------------- 
     load     v20  add a basic line to stdin            5    2    *    *    3    1    15   sar_daily    create the sar daily report                   /usr/lib64/sa/sa2                                                               -                       
     exec     v20  add a new line                       BASE_inventory        cfile_1st      , yUNIT_stdin                                            i_equal     0                                                                       -                       
     get      v20  review the counters                  LIST_unit             "counters"     , NULL                                                   s_equal     LIST counters    : file    1m,    1n;  line     5m,     5n              -                       
     exec     v20  list the lines                       LIST_list                                                                                     i_equal     0                                                                       -                       
     exec     v20  evaluate cron shape                  LIST_unit             "shape"        , NULL                                                   s_equal     LIST shape (  6) : F_____                                               -                       
#    exec     v20  show line as stored                  CLINE_show            cfile_1st->tail                                                         i_equal     0                                                                       -                       
     exec     v20  check title                          LIST_unit             "tracker"      , cfile_1st->tail                                        s_equal     LIST tracker     : [sar_daily]                                          -                       
     exec     v20  check comment                        LIST_unit             "comment"      , cfile_1st->tail                                        s_equal     LIST comment     :  27 [create the sar daily report]                    -                       
     exec     v20  check profile                        LIST_unit             "profile"      , cfile_1st->tail                                        s_equal     LIST profile     : min=   0, exp=   0, max=   5                         -                       
     exec     v20  check controls                       LIST_unit             "controls"     , cfile_1st->tail                                        s_equal     LIST controls    : imp 0, mon -, cat -, del y, ski y, kil y             -                       
     exec     v20  check command                        LIST_unit             "command"      , cfile_1st->tail                                        s_equal     LIST command     :  17 [/usr/lib64/sa/sa2]                              -                       
     exec     v20  check minutes (cursory)              LIST_unit             "sched_min"    , cfile_1st->tail                                        s_equal     LIST minutes     : [_____1_______________________________________]      -                       
     exec     v20  check hours   (cursory)              LIST_unit             "sched_hrs"    , cfile_1st->tail                                        s_equal     LIST hours       : [__1_____________________]                           -                       
     exec     v20  check days    (cursory)              LIST_unit             "sched_dys"    , cfile_1st->tail                                        s_equal     LIST days        : [.1111111111111111111111111111111]                   -                       
     exec     v20  check months  (cursory)              LIST_unit             "sched_mos"    , cfile_1st->tail                                        s_equal     LIST months      : [.111111111111]                                      -                       
     exec     v20  check dow     (cursory)              LIST_unit             "sched_dow"    , cfile_1st->tail                                        s_equal     LIST dow         : [.__1____]                                           -                       
     exec     v20  check weeks   (cursory)              LIST_unit             "sched_wks"    , cfile_1st->tail                                        s_equal     LIST weeks       : [.1___________________________________________]      -                       
     exec     v20  check years   (cursory)              LIST_unit             "sched_yrs"    , cfile_1st->tail                                        s_equal     LIST years       : [_______________1_____________________________]      -                       

   COND       v20  check the shorter commented version                          ----------------------------------------------------------------------  ----------  ----------------------------------------------------------------------  -  -------------------- 
     load     v20  add a basic line to stdin            5    2    *    *    3    1    15   sar_daily    create the sar daily report                 /usr/lib64/sa/sa2                                                                     -                       
     exec     v20  add a new line                       BASE_inventory        cfile_1st      , yUNIT_stdin                                            i_equal     0                                                                       -                       
     get      v20  review the counters                  LIST_unit             "counters"     , NULL                                                   s_equal     LIST counters    : file    1m,    1n;  line     6m,     6n              -                       
     exec     v20  list the lines                       LIST_list                                                                                     i_equal     0                                                                       -                       
     exec     v20  evaluate cron shape                  LIST_unit             "shape"        , NULL                                                   s_equal     LIST shape (  7) : F______                                              -                       
#    exec     v20  show line as stored                  CLINE_show            cfile_1st->tail                                                         i_equal     0                                                                       -                       
     exec     v20  check title                          LIST_unit             "tracker"      , cfile_1st->tail                                        s_equal     LIST tracker     : [sar_daily]                                          -                       
     exec     v20  check comment                        LIST_unit             "comment"      , cfile_1st->tail                                        s_equal     LIST comment     :  27 [create the sar daily report]                    -                       
     exec     v20  check profile                        LIST_unit             "profile"      , cfile_1st->tail                                        s_equal     LIST profile     : min=   0, exp=   0, max=   5                         -                       
     exec     v20  check controls                       LIST_unit             "controls"     , cfile_1st->tail                                        s_equal     LIST controls    : imp 0, mon -, cat -, del y, ski y, kil y             -                       
     exec     v20  check command                        LIST_unit             "command"      , cfile_1st->tail                                        s_equal     LIST command     :  17 [/usr/lib64/sa/sa2]                              -                       
     exec     v20  check minutes (cursory)              LIST_unit             "sched_min"    , cfile_1st->tail                                        s_equal     LIST minutes     : [_____1_______________________________________]      -                       
     exec     v20  check hours   (cursory)              LIST_unit             "sched_hrs"    , cfile_1st->tail                                        s_equal     LIST hours       : [__1_____________________]                           -                       
     exec     v20  check days    (cursory)              LIST_unit             "sched_dys"    , cfile_1st->tail                                        s_equal     LIST days        : [.1111111111111111111111111111111]                   -                       
     exec     v20  check months  (cursory)              LIST_unit             "sched_mos"    , cfile_1st->tail                                        s_equal     LIST months      : [.111111111111]                                      -                       
     exec     v20  check dow     (cursory)              LIST_unit             "sched_dow"    , cfile_1st->tail                                        s_equal     LIST dow         : [.__1____]                                           -                       
     exec     v20  check weeks   (cursory)              LIST_unit             "sched_wks"    , cfile_1st->tail                                        s_equal     LIST weeks       : [.1___________________________________________]      -                       
     exec     v20  check years   (cursory)              LIST_unit             "sched_yrs"    , cfile_1st->tail                                        s_equal     LIST years       : [_______________1_____________________________]      -                       

   COND       v20  check the shorter delimited version with tracker             ----------------------------------------------------------------------  ----------  ----------------------------------------------------------------------  -  -------------------- 
     load     v20  add a basic line to stdin            5    2    *    *    3    1    15   sar_daily    /usr/lib64/sa/sa2                                                                                                                   -                       
     exec     v20  add a new line                       BASE_inventory        cfile_1st      , yUNIT_stdin                                            i_equal     0                                                                       -                       
     get      v20  review the counters                  LIST_unit             "counters"     , NULL                                                   s_equal     LIST counters    : file    1m,    1n;  line     7m,     7n              -                       
     exec     v20  list the lines                       LIST_list                                                                                     i_equal     0                                                                       -                       
     exec     v20  evaluate cron shape                  LIST_unit             "shape"        , NULL                                                   s_equal     LIST shape (  8) : F_______                                             -                       
#    exec     v20  show line as stored                  CLINE_show            cfile_1st->tail                                                         i_equal     0                                                                       -                       
     exec     v20  check title                          LIST_unit             "tracker"      , cfile_1st->tail                                        s_equal     LIST tracker     : [sar_daily]                                          -                       
     exec     v20  check comment                        LIST_unit             "comment"      , cfile_1st->tail                                        s_equal     LIST comment     :   0 []                                               -                       
     exec     v20  check profile                        LIST_unit             "profile"      , cfile_1st->tail                                        s_equal     LIST profile     : min=   0, exp=   0, max=   5                         -                       
     exec     v20  check controls                       LIST_unit             "controls"     , cfile_1st->tail                                        s_equal     LIST controls    : imp 0, mon -, cat -, del y, ski y, kil y             -                       
     exec     v20  check command                        LIST_unit             "command"      , cfile_1st->tail                                        s_equal     LIST command     :  17 [/usr/lib64/sa/sa2]                              -                       
     exec     v20  check minutes (cursory)              LIST_unit             "sched_min"    , cfile_1st->tail                                        s_equal     LIST minutes     : [_____1_______________________________________]      -                       
     exec     v20  check hours   (cursory)              LIST_unit             "sched_hrs"    , cfile_1st->tail                                        s_equal     LIST hours       : [__1_____________________]                           -                       
     exec     v20  check days    (cursory)              LIST_unit             "sched_dys"    , cfile_1st->tail                                        s_equal     LIST days        : [.1111111111111111111111111111111]                   -                       
     exec     v20  check months  (cursory)              LIST_unit             "sched_mos"    , cfile_1st->tail                                        s_equal     LIST months      : [.111111111111]                                      -                       
     exec     v20  check dow     (cursory)              LIST_unit             "sched_dow"    , cfile_1st->tail                                        s_equal     LIST dow         : [.__1____]                                           -                       
     exec     v20  check weeks   (cursory)              LIST_unit             "sched_wks"    , cfile_1st->tail                                        s_equal     LIST weeks       : [.1___________________________________________]      -                       
     exec     v20  check years   (cursory)              LIST_unit             "sched_yrs"    , cfile_1st->tail                                        s_equal     LIST years       : [_______________1_____________________________]      -                       

   COND       v20  check the shorter delimited version without tracker          ----------------------------------------------------------------------  ----------  ----------------------------------------------------------------------  -  -------------------- 
     load     v20  add a basic line to stdin            5    2    *    *    3    1    15   /usr/lib64/sa/sa2                                                                                                                                  -                       
     exec     v20  add a new line                       BASE_inventory        cfile_1st      , yUNIT_stdin                                            i_equal     0                                                                       -                       
     get      v20  review the counters                  LIST_unit             "counters"     , NULL                                                   s_equal     LIST counters    : file    1m,    1n;  line     8m,     8n              -                       
     exec     v20  list the lines                       LIST_list                                                                                     i_equal     0                                                                       -                       
     exec     v20  evaluate cron shape                  LIST_unit             "shape"        , NULL                                                   s_equal     LIST shape (  9) : F________                                            -                       
#    exec     v20  show line as stored                  CLINE_show            cfile_1st->tail                                                         i_equal     0                                                                       -                       
     exec     v20  check title                          LIST_unit             "tracker"      , cfile_1st->tail                                        s_equal     LIST tracker     : []                                                   -                       
     exec     v20  check comment                        LIST_unit             "comment"      , cfile_1st->tail                                        s_equal     LIST comment     :   0 []                                               -                       
     exec     v20  check profile                        LIST_unit             "profile"      , cfile_1st->tail                                        s_equal     LIST profile     : min=   0, exp=   0, max=   5                         -                       
     exec     v20  check controls                       LIST_unit             "controls"     , cfile_1st->tail                                        s_equal     LIST controls    : imp 0, mon -, cat -, del y, ski y, kil y             -                       
     exec     v20  check command                        LIST_unit             "command"      , cfile_1st->tail                                        s_equal     LIST command     :  17 [/usr/lib64/sa/sa2]                              -                       
     exec     v20  check minutes (cursory)              LIST_unit             "sched_min"    , cfile_1st->tail                                        s_equal     LIST minutes     : [_____1_______________________________________]      -                       
     exec     v20  check hours   (cursory)              LIST_unit             "sched_hrs"    , cfile_1st->tail                                        s_equal     LIST hours       : [__1_____________________]                           -                       
     exec     v20  check days    (cursory)              LIST_unit             "sched_dys"    , cfile_1st->tail                                        s_equal     LIST days        : [.1111111111111111111111111111111]                   -                       
     exec     v20  check months  (cursory)              LIST_unit             "sched_mos"    , cfile_1st->tail                                        s_equal     LIST months      : [.111111111111]                                      -                       
     exec     v20  check dow     (cursory)              LIST_unit             "sched_dow"    , cfile_1st->tail                                        s_equal     LIST dow         : [.__1____]                                           -                       
     exec     v20  check weeks   (cursory)              LIST_unit             "sched_wks"    , cfile_1st->tail                                        s_equal     LIST weeks       : [.1___________________________________________]      -                       
     exec     v20  check years   (cursory)              LIST_unit             "sched_yrs"    , cfile_1st->tail                                        s_equal     LIST years       : [_______________1_____________________________]      -                       

   COND       v20  check the original undelimited version                       ----------------------------------------------------------------------  ----------  ----------------------------------------------------------------------  -  -------------------- 
     load     v20  add a basic line to stdin            5    2    *    *    3   /usr/lib64/sa/sa2                                                                                                                                               -                       
     exec     v20  add a new line                       BASE_inventory        cfile_1st      , yUNIT_stdin                                            i_equal     0                                                                       -                       
     get      v20  review the counters                  LIST_unit             "counters"     , NULL                                                   s_equal     LIST counters    : file    1m,    1n;  line     9m,     9n              -                       
     exec     v20  list the lines                       LIST_list                                                                                     i_equal     0                                                                       -                       
     exec     v20  evaluate cron shape                  LIST_unit             "shape"        , NULL                                                   s_equal     LIST shape ( 10) : F_________                                           -                       
#    exec     v20  show line as stored                  CLINE_show            cfile_1st->tail                                                         i_equal     0                                                                       -                       
     exec     v20  check title                          LIST_unit             "tracker"      , cfile_1st->tail                                        s_equal     LIST tracker     : []                                                   -                       
     exec     v20  check comment                        LIST_unit             "comment"      , cfile_1st->tail                                        s_equal     LIST comment     :   0 []                                               -                       
     exec     v20  check profile                        LIST_unit             "profile"      , cfile_1st->tail                                        s_equal     LIST profile     : min=   0, exp=   0, max=   5                         -                       
     exec     v20  check controls                       LIST_unit             "controls"     , cfile_1st->tail                                        s_equal     LIST controls    : imp 0, mon -, cat -, del y, ski y, kil y             -                       
     exec     v20  check command                        LIST_unit             "command"      , cfile_1st->tail                                        s_equal     LIST command     :  17 [/usr/lib64/sa/sa2]                              -                       
     exec     v20  check minutes (cursory)              LIST_unit             "sched_min"    , cfile_1st->tail                                        s_equal     LIST minutes     : [_____1_______________________________________]      -                       
     exec     v20  check hours   (cursory)              LIST_unit             "sched_hrs"    , cfile_1st->tail                                        s_equal     LIST hours       : [__1_____________________]                           -                       
     exec     v20  check days    (cursory)              LIST_unit             "sched_dys"    , cfile_1st->tail                                        s_equal     LIST days        : [.1111111111111111111111111111111]                   -                       
     exec     v20  check months  (cursory)              LIST_unit             "sched_mos"    , cfile_1st->tail                                        s_equal     LIST months      : [.111111111111]                                      -                       
     exec     v20  check dow     (cursory)              LIST_unit             "sched_dow"    , cfile_1st->tail                                        s_equal     LIST dow         : [.__1____]                                           -                       
     exec     v20  check weeks   (cursory)              LIST_unit             "sched_wks"    , cfile_1st->tail                                        s_equal     LIST weeks       : [.11111111111111111111111111111111111111111111]      -                       
     exec     v20  check years   (cursory)              LIST_unit             "sched_yrs"    , cfile_1st->tail                                        s_equal     LIST years       : [111111111111111111111111111111111111111111111]      -                       

   COND       v20  add another line (have a trailing delimiter)                 ----------------------------------------------------------------------  ----------  ----------------------------------------------------------------------  -  -------------------- 
     load     v20  add a basic line to stdin            5    2    *    *    3    1    15   sar_daily    create the sar daily report                 medium  want  /usr/lib64/sa/sa2                                                 -                       
     exec     v20  add a new line                       BASE_inventory        cfile_1st      , yUNIT_stdin                                            i_equal     0                                                                       -                       
     get      v20  review the counters                  LIST_unit             "counters"     , NULL                                                   s_equal     LIST counters    : file    1m,    1n;  line    10m,    10n              -                       
     exec     v20  list the lines                       LIST_list                                                                                     i_equal     0                                                                       -                       
     exec     v20  evaluate cron shape                  LIST_unit             "shape"        , NULL                                                   s_equal     LIST shape ( 11) : F__________                                          -                       
#    exec     v20  show line as stored                  CLINE_show            cfile_1st->tail                                                         i_equal     0                                                                       -                       
     exec     v20  check title                          LIST_unit             "tracker"      , cfile_1st->tail                                        s_equal     LIST tracker     : [sar_daily]                                          -                       
     exec     v20  check comment                        LIST_unit             "comment"      , cfile_1st->tail                                        s_equal     LIST comment     :  27 [create the sar daily report]                    -                       
     exec     v20  check profile                        LIST_unit             "profile"      , cfile_1st->tail                                        s_equal     LIST profile     : min=   1, exp=   5, max=  30                         -                       
     exec     v20  check controls                       LIST_unit             "controls"     , cfile_1st->tail                                        s_equal     LIST controls    : imp 2, mon y, cat -, del y, ski y, kil -             -                       
     exec     v20  check command                        LIST_unit             "command"      , cfile_1st->tail                                        s_equal     LIST command     :  17 [/usr/lib64/sa/sa2]                              -                       
     exec     v20  check minutes (cursory)              LIST_unit             "sched_min"    , cfile_1st->tail                                        s_equal     LIST minutes     : [_____1_______________________________________]      -                       
     exec     v20  check hours   (cursory)              LIST_unit             "sched_hrs"    , cfile_1st->tail                                        s_equal     LIST hours       : [__1_____________________]                           -                       
     exec     v20  check days    (cursory)              LIST_unit             "sched_dys"    , cfile_1st->tail                                        s_equal     LIST days        : [.1111111111111111111111111111111]                   -                       
     exec     v20  check months  (cursory)              LIST_unit             "sched_mos"    , cfile_1st->tail                                        s_equal     LIST months      : [.111111111111]                                      -                       
     exec     v20  check dow     (cursory)              LIST_unit             "sched_dow"    , cfile_1st->tail                                        s_equal     LIST dow         : [.__1____]                                           -                       
     exec     v20  check weeks   (cursory)              LIST_unit             "sched_wks"    , cfile_1st->tail                                        s_equal     LIST weeks       : [.1___________________________________________]      -                       
     exec     v20  check years   (cursory)              LIST_unit             "sched_yrs"    , cfile_1st->tail                                        s_equal     LIST years       : [_______________1_____________________________]      -                       

   COND       v20  purge the remaining cronfiles                                ----------------------------------------------------------------------  ----------  ----------------------------------------------------------------------  -  -------------------- 
     exec     v20  retire all files and lines           LIST_purge                                                                                    i_equal     0                                                                       -                       
     get      v20  review the counters                  LIST_unit             "counters"     , NULL                                                   s_equal     LIST counters    : file    0m,    0n;  line     0m,     0n              -                       
     get      v20  review the file list                 LIST_unit             "files"        , NULL                                                   s_equal     LIST file list   : n=   0, f=   0, b=   0, h=(nil)     , t=(nil)        -                       
     exec     v20  list the lines                       LIST_list                                                                                     i_equal     0                                                                       -                       






