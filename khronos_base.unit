#!/usr/local/bin/koios
#   koios-polos (north star) -- customized c unit testing meta-program and mini-language
#   program under test  : khronos_tabs
#   auto-generated script file converted from a previous script version
#   updated to the most recent version (v21)



#23456789-12  123  123456789-123456789-123456789-12345  123456789-123456789-123456  123456789-123456789-123456789-123456789-123456789-123456789-123456789-123456789-123456789-123456789-  123456789-  123456789-123456789-123456789-123456789-123456789-123456789-123456789-123456789-123456789-123456789-  -  123456789-123456789- 
#==(verb)===  ver  ===========(description)===========  =====(function)===========  ========================(arguments)=================================================================  ==(test)==  ==========================(results)=================================================================  t  ========(var)======= 
PREP          v21  include the prototype headers                                      - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   - - - - -   - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
   incl       v21  include crond header                 khronos.h                   - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   - - - - -   - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  



#23456789-12  123  123456789-123456789-123456789-12345  123456789-123456789-123456  123456789-123456789-123456789-123456789-123456789-123456789-123456789-123456789-123456789-123456789-  123456789-  123456789-123456789-123456789-123456789-123456789-123456789-123456789-123456789-123456789-123456789-  -  123456789-123456789- 
#==(verb)===  ver  ===========(description)===========  =====(function)===========  ========================(arguments)=================================================================  ==(test)==  ==========================(results)=================================================================  t  ========(var)======= 
SCRP          v21  (BASE  ) verify central directory checking                         base_check_dir                                                                                        ((01.---))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  

   COND       v21  prepare for run                                                    - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((01.001))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     v21  initialize the system                prog__unit_quiet                                                                                                                  i_equal     0                                                                                                    

   COND       v21  start with a unit test dir                                         - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((01.002))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     v21  call directory validatation          base_check_dir                                                                                                                    i_equal     0                                                                                                    
     get      v21  ...check directory                   base__unit                  "central"              , 0                                                                            s_equal     BASE central     : 18[/tmp/khronos_test/]                    y                                               

   COND       v21  attempt an empty directory                                         - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((01.002))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     code     v21  update the directory                 - - - - - - - - - - - - -   strlcpy (my.dir_central, ""                                  , LEN_PATH);                                                                                                                                                            
     exec     v21  call directory validatation          base_check_dir                                                                                                                    i_lesser    0                                                                                                    
     get      v21  ...check directory                   base__unit                  "central"              , 0                                                                            s_equal     BASE central     :  0[]                                      e                                               

   COND       v21  attempt to use root                                                - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((01.002))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     code     v21  update the directory                 - - - - - - - - - - - - -   strlcpy (my.dir_central, "/"                                 , LEN_PATH);                                                                                                                                                            
     exec     v21  call directory validatation          base_check_dir                                                                                                                    i_lesser    0                                                                                                    
     get      v21  ...check directory                   base__unit                  "central"              , 0                                                                            s_equal     BASE central     :  1[/]                                     e                                               

   COND       v21  attempt to use an existing root subdirectory                       - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((01.002))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     code     v21  update the directory                 - - - - - - - - - - - - -   strlcpy (my.dir_central, "/etc/"                             , LEN_PATH);                                                                                                                                                            
     exec     v21  call directory validatation          base_check_dir                                                                                                                    i_lesser    0                                                                                                    
     get      v21  ...check directory                   base__unit                  "central"              , 0                                                                            s_equal     BASE central     :  5[/etc/]                                 e                                               

   COND       v21  attempt non-existant directory                                     - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((01.002))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     code     v21  update the directory                 - - - - - - - - - - - - -   strlcpy (my.dir_central, "/tmp/arstioen/"                    , LEN_PATH);                                                                                                                                                            
     exec     v21  call directory validatation          base_check_dir                                                                                                                    i_lesser    0                                                                                                    
     get      v21  ...check directory                   base__unit                  "central"              , 0                                                                            s_equal     BASE central     : 14[/tmp/arstioen/]                        e                                               

   COND       v21  attempt to point at an existing file                               - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((01.002))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     code     v21  update the directory                 - - - - - - - - - - - - -   strlcpy (my.dir_central, "/var/lib/helios/helios.db"         , LEN_PATH);                                                                                                                                                            
     exec     v21  call directory validatation          base_check_dir                                                                                                                    i_lesser    0                                                                                                    
     get      v21  ...check directory                   base__unit                  "central"              , 0                                                                            s_equal     BASE central     : 25[/var/lib/helios/helios.db]             e                                               

   COND       v21  use the standard directory                                         - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((01.002))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     code     v21  update the directory                 - - - - - - - - - - - - -   strlcpy (my.dir_central, DIR_CENTRAL                         , LEN_PATH);                                                                                                                                                            
     exec     v21  call directory validatation          base_check_dir                                                                                                                    i_equal     0                                                                                                    
     get      v21  ...check directory                   base__unit                  "central"              , 0                                                                            s_equal     BASE central     : 20[/var/spool/crontabs/]                  -                                               

   COND       v21  switch back to unit test dir                                       - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((01.002))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     code     v21  update the directory                 - - - - - - - - - - - - -   strlcpy (my.dir_central, DIR_UNIT_CENTRAL                    , LEN_PATH);                                                                                                                                                            
     exec     v21  call directory validatation          base_check_dir                                                                                                                    i_equal     0                                                                                                    
     get      v21  ...check directory                   base__unit                  "central"              , 0                                                                            s_equal     BASE central     : 18[/tmp/khronos_test/]                    y                                               

   COND       v21  attempt with lesser owner account                                  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((01.002))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     code     v21  update diretory ownership            - - - - - - - - - - - - -   system ("chown member:root   /tmp/khronos_test/");                                                                                                                                                                       
     exec     v21  call directory validatation          base_check_dir                                                                                                                    i_lesser    0                                                                                                    
     get      v21  ...check directory                   base__unit                  "central"              , 0                                                                            s_equal     BASE central     : 18[/tmp/khronos_test/]                    e                                               

   COND       v21  switch back to correct owner account                               - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((01.002))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     code     v21  update diretory ownership            - - - - - - - - - - - - -   system ("chown root:root     /tmp/khronos_test/");                                                                                                                                                                       
     exec     v21  call directory validatation          base_check_dir                                                                                                                    i_equal     0                                                                                                    
     get      v21  ...check directory                   base__unit                  "central"              , 0                                                                            s_equal     BASE central     : 18[/tmp/khronos_test/]                    y                                               

   COND       v21  attempt with lesser group account                                  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((01.002))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     code     v21  update diretory ownership            - - - - - - - - - - - - -   system ("chown root:users    /tmp/khronos_test/");                                                                                                                                                                       
     exec     v21  call directory validatation          base_check_dir                                                                                                                    i_lesser    0                                                                                                    
     get      v21  ...check directory                   base__unit                  "central"              , 0                                                                            s_equal     BASE central     : 18[/tmp/khronos_test/]                    e                                               

   COND       v21  switch back to correct group account                               - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((01.002))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     code     v21  update diretory ownership            - - - - - - - - - - - - -   system ("chown root:root     /tmp/khronos_test/");                                                                                                                                                                       
     exec     v21  call directory validatation          base_check_dir                                                                                                                    i_equal     0                                                                                                    
     get      v21  ...check directory                   base__unit                  "central"              , 0                                                                            s_equal     BASE central     : 18[/tmp/khronos_test/]                    y                                               

   COND       v21  attempt with different permissions                                 - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((01.002))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     code     v21  update diretory ownership            - - - - - - - - - - - - -   system ("chmod 0777          /tmp/khronos_test/");                                                                                                                                                                       
     exec     v21  call directory validatation          base_check_dir                                                                                                                    i_lesser    0                                                                                                    
     get      v21  ...check directory                   base__unit                  "central"              , 0                                                                            s_equal     BASE central     : 18[/tmp/khronos_test/]                    e                                               

   COND       v21  attempt with different permissions                                 - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((01.002))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     code     v21  update diretory ownership            - - - - - - - - - - - - -   system ("chmod 0246          /tmp/khronos_test/");                                                                                                                                                                       
     exec     v21  call directory validatation          base_check_dir                                                                                                                    i_lesser    0                                                                                                    
     get      v21  ...check directory                   base__unit                  "central"              , 0                                                                            s_equal     BASE central     : 18[/tmp/khronos_test/]                    e                                               

   COND       v21  switch back to correct group account                               - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((01.002))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     code     v21  update diretory ownership            - - - - - - - - - - - - -   system ("chmod 0700          /tmp/khronos_test/");                                                                                                                                                                       
     exec     v21  call directory validatation          base_check_dir                                                                                                                    i_equal     0                                                                                                    
     get      v21  ...check directory                   base__unit                  "central"              , 0                                                                            s_equal     BASE central     : 18[/tmp/khronos_test/]                    y                                               

   COND       v21  wrap up testing                                                    - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((01.010))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     v21  wrap up                              prog__unit_end                                                                                                                    i_equal     0                                                                                                    



